### [求助] 请问如何使用 Java 项目控制另一个 使用 gradle 构建的 Java 项目的编译？

## 背景

最近在开发代码覆盖率的平台，涉及到对 java 项目编译后使用 jacococli 来生成报告，需要指定 java 项目
class 文件路径和源码路径。因此，需要将用户配置的 java 项目在服务器上进行编译。目前只支持通过 maven
和 gradle 构建的项目。我是要在部署了代码覆盖率服务(以下简称 cov 服务，使用 springboot 开发)的服务
器上进行编译，这个 cov 服务本身就是使用 Maven 构建，然后使用 Dockerfile 打包成镜像，在 k8s 上部署
的，在这个镜像里面只有必要的 JDK 依赖 。因此，如果要在 cov 服务上进行 Maven 或者 Gradle 项目的构
建，则需要先配置 Maven/Gradle 环境，因为这个镜像是由运维统一提供，所以再往镜像里面打包这两个构建工具事情推动起来比较困难。

## 求助内容

目前已经搞定了 Maven 项目的构建，用 Maven embedder 就可以不借助系统安装的 Maven 工具来对另一个 
Maven 项目进行打包。但是 Gradle 没找到类似的工具，只有一个 Gradle Tooling API 可以实现通过编写代
码来控制构建过程，但是缺点是需要依赖系统安装的 gradle 工具，所以有木有办法不依赖系统安装的 gradle ，
而实现 Maven embedder 类似的效果？

希望各位大佬不吝赐教，小弟感激不尽

---------------------------------------------------

gradle wrapper ？

---------------------------------------------------

java 直接 命令行操作?

---------------------------------------------------

@cbdyzj 有些项目没有 wrapper ，只有 build.gradle 和 settings.gradle 两个文件

---------------------------------------------------

@72D 服务器上没有 gradle 环境

---------------------------------------------------

java 操作一个系统层面的 agent 来执行命令吧，或者操作运行另一个 docker 镜像来执行。

---------------------------------------------------

@Heroininu 不大行，这玩意儿只有一个服务，编译项目和生成代码覆盖率报告都在同一个服务器上

---------------------------------------------------

@linvaux 那就在同一个服务器跑 agent 呗，限制以下打包服务的 cpu 和内存占用就好

---------------------------------------------------

gradle wrapper ？

---------------------------------------------------

java 直接 命令行操作?

---------------------------------------------------

@cbdyzj 有些项目没有 wrapper ，只有 build.gradle 和 settings.gradle 两个文件

---------------------------------------------------

@72D 服务器上没有 gradle 环境

---------------------------------------------------

java 操作一个系统层面的 agent 来执行命令吧，或者操作运行另一个 docker 镜像来执行。

---------------------------------------------------

@Heroininu 不大行，这玩意儿只有一个服务，编译项目和生成代码覆盖率报告都在同一个服务器上

---------------------------------------------------

@linvaux 那就在同一个服务器跑 agent 呗，限制以下打包服务的 cpu 和内存占用就好

---------------------------------------------------

gradle wrapper ？

---------------------------------------------------

java 直接 命令行操作?

---------------------------------------------------

@cbdyzj 有些项目没有 wrapper ，只有 build.gradle 和 settings.gradle 两个文件

---------------------------------------------------

@72D 服务器上没有 gradle 环境

---------------------------------------------------

java 操作一个系统层面的 agent 来执行命令吧，或者操作运行另一个 docker 镜像来执行。

---------------------------------------------------

@Heroininu 不大行，这玩意儿只有一个服务，编译项目和生成代码覆盖率报告都在同一个服务器上

---------------------------------------------------

@linvaux 那就在同一个服务器跑 agent 呗，限制以下打包服务的 cpu 和内存占用就好

---------------------------------------------------

gradle wrapper ？

---------------------------------------------------

java 直接 命令行操作?

---------------------------------------------------

@cbdyzj 有些项目没有 wrapper ，只有 build.gradle 和 settings.gradle 两个文件

---------------------------------------------------

@72D 服务器上没有 gradle 环境

---------------------------------------------------

java 操作一个系统层面的 agent 来执行命令吧，或者操作运行另一个 docker 镜像来执行。

---------------------------------------------------

@Heroininu 不大行，这玩意儿只有一个服务，编译项目和生成代码覆盖率报告都在同一个服务器上

---------------------------------------------------

@linvaux 那就在同一个服务器跑 agent 呗，限制以下打包服务的 cpu 和内存占用就好

---------------------------------------------------

gradle wrapper ？

---------------------------------------------------

java 直接 命令行操作?

---------------------------------------------------

@cbdyzj 有些项目没有 wrapper ，只有 build.gradle 和 settings.gradle 两个文件

---------------------------------------------------

@72D 服务器上没有 gradle 环境

---------------------------------------------------

java 操作一个系统层面的 agent 来执行命令吧，或者操作运行另一个 docker 镜像来执行。

---------------------------------------------------

@Heroininu 不大行，这玩意儿只有一个服务，编译项目和生成代码覆盖率报告都在同一个服务器上

---------------------------------------------------

@linvaux 那就在同一个服务器跑 agent 呗，限制以下打包服务的 cpu 和内存占用就好

---------------------------------------------------

gradle wrapper ？

---------------------------------------------------

java 直接 命令行操作?

---------------------------------------------------

@cbdyzj 有些项目没有 wrapper ，只有 build.gradle 和 settings.gradle 两个文件

---------------------------------------------------

@72D 服务器上没有 gradle 环境

---------------------------------------------------

java 操作一个系统层面的 agent 来执行命令吧，或者操作运行另一个 docker 镜像来执行。

---------------------------------------------------

@Heroininu 不大行，这玩意儿只有一个服务，编译项目和生成代码覆盖率报告都在同一个服务器上

---------------------------------------------------

@linvaux 那就在同一个服务器跑 agent 呗，限制以下打包服务的 cpu 和内存占用就好

---------------------------------------------------

gradle wrapper ？

---------------------------------------------------

java 直接 命令行操作?

---------------------------------------------------

@cbdyzj 有些项目没有 wrapper ，只有 build.gradle 和 settings.gradle 两个文件

---------------------------------------------------

@72D 服务器上没有 gradle 环境

---------------------------------------------------

java 操作一个系统层面的 agent 来执行命令吧，或者操作运行另一个 docker 镜像来执行。

---------------------------------------------------

@Heroininu 不大行，这玩意儿只有一个服务，编译项目和生成代码覆盖率报告都在同一个服务器上

---------------------------------------------------

@linvaux 那就在同一个服务器跑 agent 呗，限制以下打包服务的 cpu 和内存占用就好

---------------------------------------------------

gradle wrapper ？

---------------------------------------------------

java 直接 命令行操作?

---------------------------------------------------

@cbdyzj 有些项目没有 wrapper ，只有 build.gradle 和 settings.gradle 两个文件

---------------------------------------------------

@72D 服务器上没有 gradle 环境

---------------------------------------------------

java 操作一个系统层面的 agent 来执行命令吧，或者操作运行另一个 docker 镜像来执行。

---------------------------------------------------

@Heroininu 不大行，这玩意儿只有一个服务，编译项目和生成代码覆盖率报告都在同一个服务器上

---------------------------------------------------

@linvaux 那就在同一个服务器跑 agent 呗，限制以下打包服务的 cpu 和内存占用就好

---------------------------------------------------

gradle wrapper ？

---------------------------------------------------

java 直接 命令行操作?

---------------------------------------------------

@cbdyzj 有些项目没有 wrapper ，只有 build.gradle 和 settings.gradle 两个文件

---------------------------------------------------

@72D 服务器上没有 gradle 环境

---------------------------------------------------

java 操作一个系统层面的 agent 来执行命令吧，或者操作运行另一个 docker 镜像来执行。

---------------------------------------------------

@Heroininu 不大行，这玩意儿只有一个服务，编译项目和生成代码覆盖率报告都在同一个服务器上

---------------------------------------------------

@linvaux 那就在同一个服务器跑 agent 呗，限制以下打包服务的 cpu 和内存占用就好

---------------------------------------------------

gradle wrapper ？

---------------------------------------------------

java 直接 命令行操作?

---------------------------------------------------

@cbdyzj 有些项目没有 wrapper ，只有 build.gradle 和 settings.gradle 两个文件

---------------------------------------------------

@72D 服务器上没有 gradle 环境

---------------------------------------------------

java 操作一个系统层面的 agent 来执行命令吧，或者操作运行另一个 docker 镜像来执行。

---------------------------------------------------

@Heroininu 不大行，这玩意儿只有一个服务，编译项目和生成代码覆盖率报告都在同一个服务器上

---------------------------------------------------

@linvaux 那就在同一个服务器跑 agent 呗，限制以下打包服务的 cpu 和内存占用就好

