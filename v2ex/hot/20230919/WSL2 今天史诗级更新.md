### WSL2 今天史诗级更新

今天 WSL2 更新了 2.0.0 版本，详细更新内容见： https://github.com/microsoft/WSL/releases/tag/2.0.0

总结一下主要是：
1. 支持自动回收内存
2. 支持自动释放 WSL2 虚拟硬盘空间
3. 支持和 Windows 使用相同的网络（镜像网络）
4. 支持 DNS Tunneling
5. 支持 Windows 设置的代理
6. 支持 Windows 防火墙
7. 支持 Multicast

需要至少 Windows 11 23H2 ，目前还没有发布正式版本，不过可以考虑加入 Insider 的 Release Preview 或者 Beta 通道，更新系统之后运行 `wsl --update --pre-release` 升级 WSL ，然后就可以在 `%userprofile%\.wslconfig` 里面设置以下内容：

```ini
[experimental]
autoMemoryReclaim=gradual # 可以在 gradual 、dropcache 、disabled 之间选择
networkingMode=mirrored
dnsTunneling=true
firewall=true
autoProxy=true
```

然后你会发现，WSL2 和 Windows 主机的网络互通而且 IP 地址相同了，还支持 IPv6 了，并且从外部（比如局域网）可以同时访问 WSL2 和 Windows 的网络。这波升级彻底带回以前 WSL1 那时候的无缝网络体验了，并且 Windows 防火墙也能过滤 WSL 里的包了，再也不需要什么桥接网卡、端口转发之类的操作了。

---------------------------------------------------

网络这一点看起来体验会很好

---------------------------------------------------

win10 不能用就很烦

---------------------------------------------------

配置后启动：
wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

@dobelee 参考原文：**需要至少 Windows 11 23H2 ，目前还没有发布正式版本，不过可以考虑加入 Insider 的 Release Preview 或者 Beta 通道。**
你可以加入 Windows Insider 进入 Release Preview 或者 Beta 通道，然后更新系统，然后就可以了。

---------------------------------------------------

更新公告： https://devblogs.microsoft.com/commandline/windows-subsystem-for-linux-september-2023-update/

---------------------------------------------------

感觉更新还蛮大的，以前有段时间折腾，装了 wsl2 ，虚拟化老是蓝屏，感觉不如 wsl1 ，虽然 wsl1 很慢。。
至少网络这块好多了

---------------------------------------------------

WSL2 的版本号终于是 2.x 了
我现在 1 和 2 同时在用，这次网络交互升级后 WSL1 依旧比 WSL2 有个优势：和 Win 交互访问文件效率

---------------------------------------------------

能局域网访问简直太棒了

---------------------------------------------------

新手用 wsl2 交叉编译啥的都很顺畅，这波把网络问题搞了就很赞

---------------------------------------------------

固定 IPwin11 老早就有了，不过自动回收内存这个可以
但目前用的 win10 ，64g 内存也没啥，这个东西还没这么大诱惑让我升级

---------------------------------------------------

cool~

---------------------------------------------------

总感觉没有 vagrant 封个 box 稳，求打醒

---------------------------------------------------

WSL2 对调用显卡资源的支持如何？能安装 ROCm 、stable diffusion 跑图吗

---------------------------------------------------

我：我承认 wsl 很方便，假如，我是说假如，假如我直接装 Linux 系统，阁下又当如何应对？
微软：反正授权费用已经在你笔记本价格里面了。

---------------------------------------------------

解决运行 PHP 非常慢的问题了么....

---------------------------------------------------

@hez2010 话说 Win11 现在好用了吗？当初升级了又回滚了...

---------------------------------------------------

@LitterGopher #14 
阁下会尝试用 微信、企业微信、QQ 来联系你. 而你根本收不到, 或只能看到乱码🤣 . ..

---------------------------------------------------

wslg 也支持了吗

---------------------------------------------------

做得好啊

不过还是等正式版发布

---------------------------------------------------

@junkk 运行 php 非常慢大概率是因为你在 windows 文件系统创建的项目，使用的是 wsl2 的 PHP 执行的，wsl2 下访问 windows 文件夹是通过网络进行的，所以很慢，解决办法就是你把项目创建到 wsl2 里面就可以了。不管你用的是 vscode 还是 phpstorm ，都可以很好的支持 wsl2 里的项目了。

---------------------------------------------------

试了下，wslg 正在更新 2.0.0

---------------------------------------------------

@x1aoYao 可以了，就开始一段时间是屎坑。现在有更新就更，用起来还行。就是 win10 老毛病，偷吃内存。

---------------------------------------------------

我随手就抛出一个 linux 单系统

---------------------------------------------------

自动回收内存，自动回收硬盘，使用 windows 代理全是我的痛点

---------------------------------------------------

@wildman9527 可是，我还有一台 mac 啊🤣。

---------------------------------------------------

为啥 win10 不信啊，烦烦烦

---------------------------------------------------

@javalaw2010 #20  意思是把挂载 win 的目录改成 直接在 wsl2 里创建项目，然后挂载 wsl2 的目录到 docker ，然后 phpstorm 打开 wsl2 的目录开发么？


这种对 debug 会有影响吗？

之前搜到过这种方法，总感觉有点怪加上麻烦，就没这么用

---------------------------------------------------

支持 Windows 设置的代理这个太好了

---------------------------------------------------

wslg 更新后配置了新的选项，提示这个

wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

搭车问:
wsl2 的虚拟硬盘是哪个文件，如果 win 炸了，我用 winpe 能不能救出里面的数据？(我是说我万一有个小文件在里面)

---------------------------------------------------

@WashFreshFresh 仔细看原文，你系统版本不够要求。

---------------------------------------------------

@junkk #27 没用过 jb 家的东西，但是 vscode 是通过 remote 的方式进行的，在 wsl 里起一个 vscode server ，你在 windows 里的 vscode 编辑会传送给 server ，然后 server 修改 wsl 系统下的文件。虽然说起来很繁琐，但是实际体验和直接编辑 windows 目录下的文件没有区别，甚至更好，因为 vscode 的内置 terminal 也会直接在 wsl 下运行。
可以找找试试 jb 家的 remote ，应该也是支持 wsl 的

---------------------------------------------------

@junkk #27 没问题的，phpstorm 发现是 wsl2 内的项目会自动启动 wsl2 的支持，docker desktop for windows 的话，也会自动启用对默认 wsl2 发行版的支持，你直接在 wsl2 内敲 docker 命令就可以了，对 phper 来说的话，除了创建项目的目录改变了，其他的变化几乎是透明的。

---------------------------------------------------

@pkoukk 不用 remote 也支持的，windows 上的 jetbrians IDE 会往 wsl2 里塞一个进程，通过通信解决一些跨系统的问题。

---------------------------------------------------

这就去更新一下

---------------------------------------------------

@daya 没问题

---------------------------------------------------

镜像网络太好了

---------------------------------------------------

这两个月应该就发 23H2 正式版了，不想再进 insider 了

---------------------------------------------------

insider 进了一次 我就放弃了，BSoD 好几次，一时半会也退不出来，被迫重装系统，然后是浪费了好多时间。

老老实实等正式版本的推送吧。

---------------------------------------------------

开了这玩意儿就不能进行虚拟机嵌套了

---------------------------------------------------

桥接都用习惯了，当虚拟机管理，咋改来改去

---------------------------------------------------

赞一个 等推送到正式版了

目前双开 WSL 1 和 2 中，需要 Windows 文件系统下用 Linux 工具用 WSL 1 ，需要更加贴近真实 Linux 或 GPU 用 WSL2

---------------------------------------------------

还是 vmware 好用点，开了 hyperv 好多东西不能用

---------------------------------------------------

一直用 WSL1 ，然后这波升级是 WSL2 添加了 1 的特性 。。

---------------------------------------------------

@javalaw2010 但是支持的非常差，比如 intelliJ 的 wsl 支持到现在很多功能都不正常，而且经常会出新 bug ，甚至好不容易做的 tomcat 的运行支持到现在也是不 work 的状态，可能最新的 2.2 修复了。还是得用 gateway ，唯一的问题就是 gateway 没有 settings sync ，每个项目还独立。目前稍微好一点的方案是 intelliJ 装好配好，然后用 intelliJ 启动一个项目这样 jb client 会把 intelliJ 的配置和插件带一份过去，起码不会打开是啥也没有自定义过的状态了。

---------------------------------------------------

内存问题终于解决了…之前吃了内存就不吐出来，还得设内存限制，都不好长期开着

---------------------------------------------------

win10 怎么不能用呀，不想用 win11

---------------------------------------------------

已更新😁

---------------------------------------------------

可以可以，基本痛点都解决了。

---------------------------------------------------

@zed1018 哦还有这种 Bug?我不是 javer 不经常用 intellij 所以不是很清楚这个 Bug 。外企好像都这风格，再严重的 bug 只要不是 security 相关的都等着发版周期，而 jetbrians 家的发版周期一年都屈指可数。。。说回来 gateway 实在是太难用，我以前考虑过直接在 wsl2 里装 jetbrains IDE 的方案，不过实验下来有几个影响体验的问题：
1. jetbrains linux 版本全系 runtime 不支持输入法跟随，输入中文的时候候选框一直在左下角的位置 
2. jetbrains 全家桶不原生支持 wayland ，所以分数缩放有问题，4K 屏 150%或者 175%的缩放体验非常差
3. wslg 会在窗口包一层边框，似乎这个边框是无法去掉的
如果能接受以上的问题的话，那体验确实会比 gateway 体验好一些

---------------------------------------------------

Windows 11 狗都不用(

---------------------------------------------------

更新 win11 的动力主要来源于 wsl 和 wsa ，也是挺幽默的

---------------------------------------------------

@loading 到注册表找`HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Lxss`，这下面的文件夹里面有你发行版的名称和虚拟磁盘的路径，要救数据的话，把 vhdx 文件复制出来备份好，之后不管是虚拟机挂载还是直接新建新的 wsl2 发行版直接替换 vhdx 文件这都看你心情了。

---------------------------------------------------

真的是史诗级更新，之前挂公司代理要各种修改 resolv.conf ，这回看起来不用了。

---------------------------------------------------

挺好挺好，网络的痛点被解决了

---------------------------------------------------

macOS：什么是 linux

---------------------------------------------------

是说 win 10 之后也不会有这个更新么？

@tony1016 #56
它自己就可以算是了。macOS 本身就是类 unix ，再用 homebrew 安装一下 gun 风格的命令行工具不就基本能用了么……

---------------------------------------------------

@Cu635 赶紧拉倒吧

---------------------------------------------------

就网络这块就很不错了，不知道什么时候出正式发布。之前 WSL2 吃内存吃的严重，我都是重启 WSL 来释放内存的

---------------------------------------------------

win10 使用 wsl --update --pre-release 可以找到更新，不知道有没有问题

---------------------------------------------------

Microsoft: 你懂 Linux 开发吗，库克？

---------------------------------------------------

有这些特性之后感觉已经被 Windows 生态绑架了，办公、娱乐、开发都可以一套系统全部搞定

---------------------------------------------------

@tony1016 #56 优越感爆棚

---------------------------------------------------

@LitterGopher 我：我承认 Linux 很方便，假如，我是说假如，假如我要使用微信，QQ ，玩游戏，阁下又当如何应对？
腾讯：反正都有又不是不能用，来玩手游呀。

---------------------------------------------------

好好好，我宣布微软的亲妈复活一天

---------------------------------------------------

@zorui linux 玩游戏这方面 steam 已经帮你解决 80%的问题了....当然腾讯特供除外

---------------------------------------------------

Windows explorer 支持隐藏 . 开头的文件了吗？

---------------------------------------------------

@javalaw2010 #33 您好，问个问题，在 Windows 中，开启 wsl2 ，安装 Ubuntu ，我如果要配合 docker 搭建 php 
 的 LNMP 环境，是吧 NMP 安装在 docker 上的容器上跑嘛

---------------------------------------------------

奇怪了，我目前用的最新的 dev channel 也提示
wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

刚试了一下设置 autoMemoryReclaim=gradual 后，wsl 里的 docker 跑不起来了

还是先观望一下吧

---------------------------------------------------

什么时候能自带串口支持就好了

---------------------------------------------------

很好，wsl2 之前在网络访问上的一系列历史问题都将被扫入历史的垃圾堆

---------------------------------------------------

能挂系统盘上的 ext4 分区了吗？

---------------------------------------------------

@MCyunpeng98 完全 OK 的，我就是这么用的 laradock ，如果要挂载路径的话记得挂载 wsl2 的路径，总之使用原则上记住一条，避免跨文件系统读写，体验就很好。

---------------------------------------------------

@javalaw2010 #53 题外话，用这个 https://github.com/bostrot/wsl2-distro-manager 开源 GUI 创建 wsl2 ，可以自定义 vhdx 的路径。

---------------------------------------------------

终于解决网络问题，太好了

---------------------------------------------------

好厉害呀
我选 mac
不搞自己

---------------------------------------------------

现在就等什么时候支持 usb 设备

---------------------------------------------------

@javalaw2010 #74 wsl2 的路径是那里？，我记得 /mnt 下的 abc 是 Windows 的硬盘

---------------------------------------------------

@MCyunpeng98 #79 对，除了/mnt 下的你随便挂载

---------------------------------------------------

wsl --status
WSL 正在完成升级...
更新失败(退出代码: 1603)。
Error code: Wsl/CallMsi/E_ABORT
---------- 挂掉了，浪费了几个小时

---------------------------------------------------

@javalaw2010 #80 嗯，感谢

---------------------------------------------------

Pre-release 啊，全是 bug 更新啥啊，release 了再说吧

---------------------------------------------------

两年多以前逃到了 Linux ，之后再也没想过要回来。最近买了 steam deck ，惊喜的发现很多游戏 linux 支持还不错。
https://www.v2ex.com/t/794193

---------------------------------------------------

@treblex #60 蹲蹲

---------------------------------------------------

更新前记得 wsl --shutdown

---------------------------------------------------

话说，wsl 能方便设置自动挂载 vhd 分区了吗？比如把系统和数据放在不同的 vhd 文件里。我知道有手动的方式，但用起来还是比较麻烦（之前尝试用 windows 的 task ，碰到了一些问题放弃了）

---------------------------------------------------

@zorui #64 这些应用就算用 win/mac 也不可能直接安装到宿主机上运行，所以并没有什么障碍。

---------------------------------------------------

能释放空间爽到了。之前占用空间只会变大不会变小...

---------------------------------------------------

nice

---------------------------------------------------

版本已经更新到 23h2 了，但还是提示报错
https://s2.loli.net/2023/09/19/csRZDWzLGmHrt83.png
https://s2.loli.net/2023/09/19/cuR41OvQEeignxL.png

---------------------------------------------------

Store WSL is now accessible from Session 0 

第一条就是这个， 太好了，终于可以愉快的 ssh 连回去了

---------------------------------------------------

@xwcs 必须是 Release Preview 22621.2359 版本或以上的，要加入预览体验计划

---------------------------------------------------

懒得折腾，等正式版吧，功能很吸引人

---------------------------------------------------

"In early testing we noticed that this will break the docker daemon when running it as a service in WSL, and so if you’re using this feature we recommend you use Docker Desktop for your docker needs. We are working with the Docker team to address this in the future."
用 systemd 的 docker 确实别开 autoMemoryReclaim ，另外就算没开这个，docker 端口貌似也是有点问题（有人没问题能正常用的不？），还是继续用 bridged 好了（吐槽下，本来只想更新 win 11 beta 看看任务栏不合并效果，结果更完 win11 beta 自动把 wsl2 也更新到 pre-release 了。。）

---------------------------------------------------

@daya #13 wsl2 支持 cuda ，不要另外下载驱动，官网有说明

---------------------------------------------------

厉害了，之前的网络真的很蛋疼

---------------------------------------------------

@default996 去 Github 下载 MSI 安装包 我今天也是这样的 安装过程中遇到问题就 Ignore

---------------------------------------------------

@h947136 我一直都是 beta 渠道，版本也是 22631.2271 了

---------------------------------------------------

巨硬牛逼，终于等到需要的功能了。这下可以吹 wsl 是最牛批的 linux 发行版。

---------------------------------------------------

这波好了之后,windows 11 就成了最好的 linux 发行版

---------------------------------------------------

@DigitalG 
https://anthony-f-tannous.medium.com/wsl2-how-to-prepare-and-attach-virtual-drives-vhd-ac17b1fc7a61
这篇文章里有自动挂载的例子，但是启动 wsl 要用两条命令来完成。

---------------------------------------------------

VSCode 好像没能适应 mirrored 极其的慢 把自动端口转发关了也是一样（关了好像有些进程还是会自动转发

---------------------------------------------------

我想要 win10 也能支持啊

---------------------------------------------------

发现一个问题，开 clash 的 tun mode 之后，wsl 里面上不了网。ping 所有域名都被转发到一个内网 ip 上面

---------------------------------------------------

@default996 看错误代码是更新过程被中止。
可以考虑去 GitHub Release 页面下载 msix 包自己手动升级。

---------------------------------------------------

23h2 要 beta 通道吧，似乎 Release Preview 搜不到更新

---------------------------------------------------

@leeyuzhe 完蛋 jetbrains 的 ide 也连不上网了
 https://i.imgur.com/9RVn14t.png

---------------------------------------------------

@leonshaw 
这个应该挺早就支持了吧, 我现在 wsl 的 /home 目录挂的就是单 ext4 分区的一个盘, 不过每次 wsl --shutdown 之后都要手动再挂一遍,开机是写了个脚本自动挂载的
https://learn.microsoft.com/en-us/windows/wsl/wsl2-mount-disk

---------------------------------------------------

终于不用再整端口转发的麻烦事了吗

---------------------------------------------------

@leeyuzhe 可以考虑关掉 clash 然后重启一下系统。转发到的那个内网 IP 有可能是 clash 给你设置的代理，既然都用 tun mode 了就应该把代理的地址从设置里清掉。

---------------------------------------------------

@hez2010 #111 没有手动或者自动设置全局代理，只有 tun mode ，关掉后 wsl 可以正常上网。但是 idea 还是不行

---------------------------------------------------

可以可以，基本痛点都解决了。

---------------------------------------------------

@leeyuzhe 有可能 idea 帮你做了端口转发然后发生端口冲突了，对于原来的网络来说有必要，对于新的来说属于是多此一举。

---------------------------------------------------

@cylx3124 #69 

https://devblogs.microsoft.com/commandline/windows-subsystem-for-linux-september-2023-update/#automatic-memory-reclaim

 However, this feature does require disabling cgroups v1 in WSL, which can cause some issues. In early testing we noticed that this will break the docker daemon when running it as a service in WSL, and so if you’re using this feature we recommend you use Docker Desktop for your docker needs. We are working with the Docker team to address this in the future.

If you’d like to customize your idle detection thresholds and more, we’d recommend doing so by not enabling this feature and creating a bash script, see this GitHub gist for instructions.

You can also set this to drop which will instead drop caches entirely after detecting idle, and will not require any cgroup changes.


总结下来，如果你是直接 apt install docker 的话，那你需要打开 systemed 转 cgroup2 ，然后禁用 cgroup 1 。亦或者直接切 Docker Desktop ，亦或者直接采用 drop 策略。

---------------------------------------------------

我有个问题，wsl 微软官方只支持 Ubuntu 么，可以装其他的发行版么

---------------------------------------------------

@dryadent 可以啊，Fedora ，CentOS （现在是 Rocky ），Debian ，Arch 啥的都在商城里能直接搜到。如果自己打包的话会麻烦一些。不过微软他自己肯定是优先基于 ubuntu 测试的。

---------------------------------------------------

@dryadent Ubuntu Debian CentOS Kali Arch Fedora openSUSE Manjaro 甚至 Alpine 等等，基本上所有发行版都有，微软商店里面找不到的话 GitHub 上也有很多社区开发者自己做了 WSL 的发行版。

---------------------------------------------------

这下边提 mac 的就是搞笑的，一旦你要编译的代码涉及到很多 native 的库，你就知道 mac 有多坑了，只能当成一个远程上网本到服务器上编译。但是 wsl 可以

---------------------------------------------------

之前就是因为网络问题，导致基于微服务的 docker 开发特别困难，有空试试

---------------------------------------------------

不知道那个开着 wsl 睡眠以后开机占用 100%cpu 的 bug 修了没有🙄

---------------------------------------------------

@tony1016 别吹，现在 windows 的开发生态比 macOS 好得多

---------------------------------------------------

@lblblong deng 12

---------------------------------------------------

@20015jjw 
WSL 子系统是软件的形式提供的，能同时启动运行多款 Linux 系统（ Ubuntu ,Debian ,Kali,CentOS...等），用到多系统的调试和编译太方便了，某个子系统搞坏了，卸载重装子系统 APP 就行。

---------------------------------------------------

警告！警告！警告！不要随意跳 preview ，很容易被坑跳不回来，我上次等了半年多，无奈重装了

---------------------------------------------------

我的 win11 是 dev 频道的，最新版 23545 ，仍然出现
wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

还会占走一大片端口么

---------------------------------------------------

23545.1000 dev 频道，出现
wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

不错 刚好因为网络的问题弃用 wsl

---------------------------------------------------

@FYFX #109 我是想挂跟 C 盘同一块硬盘上的一个分区，这个 issue 好像没什么动静了
https://github.com/microsoft/WSL/issues/8773

---------------------------------------------------

访问 c 盘 d 盘奇慢的问题解决了么~

---------------------------------------------------

试了一下新特性，使用体验非常丝滑，之前的痛点几乎都解决了。

目前唯一的痛点是 WSL2 不能直接使用 Windows 主机上的 USB 设备（目前的解决方案是使用 usbipd ），如果以后能解决这个问题的话就真成最好的 Linux 发行版了。

---------------------------------------------------

@daya 可以。共享 windows 显卡驱动，在 wsl 里可以直接 nvidia-smi 查看显卡。可以直接装 nvidia-docker ，跟裸装 linux 性能大概有 5-10%的损失。

---------------------------------------------------

好家伙，相交 beta 更新更快的 dev 渠道居然还是 22H2 但是版本已经到 23545 了，一样用不了

---------------------------------------------------

这下 Windows 是最强 Linux distro 了

---------------------------------------------------

@leeyuzhe #105 你是用的 fake-ip 吗？ fake-ip 是劫持 DNS 解析，把所有域名都指向 fake-ip-range 网段内的 IP ，不可能是同一个 IP ，只是同一网段。
我试了下，只有 https 不行，http 请求是可以的，无论需不需要翻墙。

---------------------------------------------------

不知道那个开着 wsl 睡眠以后开机占用 100%cpu 的 bug 修了没有🙄

---------------------------------------------------

@tony1016 别吹，现在 windows 的开发生态比 macOS 好得多

---------------------------------------------------

@lblblong deng 12

---------------------------------------------------

@20015jjw 
WSL 子系统是软件的形式提供的，能同时启动运行多款 Linux 系统（ Ubuntu ,Debian ,Kali,CentOS...等），用到多系统的调试和编译太方便了，某个子系统搞坏了，卸载重装子系统 APP 就行。

---------------------------------------------------

警告！警告！警告！不要随意跳 preview ，很容易被坑跳不回来，我上次等了半年多，无奈重装了

---------------------------------------------------

我的 win11 是 dev 频道的，最新版 23545 ，仍然出现
wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

还会占走一大片端口么

---------------------------------------------------

23545.1000 dev 频道，出现
wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

不错 刚好因为网络的问题弃用 wsl

---------------------------------------------------

@FYFX #109 我是想挂跟 C 盘同一块硬盘上的一个分区，这个 issue 好像没什么动静了
https://github.com/microsoft/WSL/issues/8773

---------------------------------------------------

访问 c 盘 d 盘奇慢的问题解决了么~

---------------------------------------------------

试了一下新特性，使用体验非常丝滑，之前的痛点几乎都解决了。

目前唯一的痛点是 WSL2 不能直接使用 Windows 主机上的 USB 设备（目前的解决方案是使用 usbipd ），如果以后能解决这个问题的话就真成最好的 Linux 发行版了。

---------------------------------------------------

@daya 可以。共享 windows 显卡驱动，在 wsl 里可以直接 nvidia-smi 查看显卡。可以直接装 nvidia-docker ，跟裸装 linux 性能大概有 5-10%的损失。

---------------------------------------------------

好家伙，相交 beta 更新更快的 dev 渠道居然还是 22H2 但是版本已经到 23545 了，一样用不了

---------------------------------------------------

这下 Windows 是最强 Linux distro 了

---------------------------------------------------

@leeyuzhe #105 你是用的 fake-ip 吗？ fake-ip 是劫持 DNS 解析，把所有域名都指向 fake-ip-range 网段内的 IP ，不可能是同一个 IP ，只是同一网段。
我试了下，只有 https 不行，http 请求是可以的，无论需不需要翻墙。

---------------------------------------------------

不知道那个开着 wsl 睡眠以后开机占用 100%cpu 的 bug 修了没有🙄

---------------------------------------------------

@tony1016 别吹，现在 windows 的开发生态比 macOS 好得多

---------------------------------------------------

@lblblong deng 12

---------------------------------------------------

@20015jjw 
WSL 子系统是软件的形式提供的，能同时启动运行多款 Linux 系统（ Ubuntu ,Debian ,Kali,CentOS...等），用到多系统的调试和编译太方便了，某个子系统搞坏了，卸载重装子系统 APP 就行。

---------------------------------------------------

警告！警告！警告！不要随意跳 preview ，很容易被坑跳不回来，我上次等了半年多，无奈重装了

---------------------------------------------------

我的 win11 是 dev 频道的，最新版 23545 ，仍然出现
wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

还会占走一大片端口么

---------------------------------------------------

23545.1000 dev 频道，出现
wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

不错 刚好因为网络的问题弃用 wsl

---------------------------------------------------

@FYFX #109 我是想挂跟 C 盘同一块硬盘上的一个分区，这个 issue 好像没什么动静了
https://github.com/microsoft/WSL/issues/8773

---------------------------------------------------

访问 c 盘 d 盘奇慢的问题解决了么~

---------------------------------------------------

试了一下新特性，使用体验非常丝滑，之前的痛点几乎都解决了。

目前唯一的痛点是 WSL2 不能直接使用 Windows 主机上的 USB 设备（目前的解决方案是使用 usbipd ），如果以后能解决这个问题的话就真成最好的 Linux 发行版了。

---------------------------------------------------

@daya 可以。共享 windows 显卡驱动，在 wsl 里可以直接 nvidia-smi 查看显卡。可以直接装 nvidia-docker ，跟裸装 linux 性能大概有 5-10%的损失。

---------------------------------------------------

好家伙，相交 beta 更新更快的 dev 渠道居然还是 22H2 但是版本已经到 23545 了，一样用不了

---------------------------------------------------

这下 Windows 是最强 Linux distro 了

---------------------------------------------------

@leeyuzhe #105 你是用的 fake-ip 吗？ fake-ip 是劫持 DNS 解析，把所有域名都指向 fake-ip-range 网段内的 IP ，不可能是同一个 IP ，只是同一网段。
我试了下，只有 https 不行，http 请求是可以的，无论需不需要翻墙。

---------------------------------------------------

不知道那个开着 wsl 睡眠以后开机占用 100%cpu 的 bug 修了没有🙄

---------------------------------------------------

@tony1016 别吹，现在 windows 的开发生态比 macOS 好得多

---------------------------------------------------

@lblblong deng 12

---------------------------------------------------

@20015jjw 
WSL 子系统是软件的形式提供的，能同时启动运行多款 Linux 系统（ Ubuntu ,Debian ,Kali,CentOS...等），用到多系统的调试和编译太方便了，某个子系统搞坏了，卸载重装子系统 APP 就行。

---------------------------------------------------

警告！警告！警告！不要随意跳 preview ，很容易被坑跳不回来，我上次等了半年多，无奈重装了

---------------------------------------------------

我的 win11 是 dev 频道的，最新版 23545 ，仍然出现
wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

还会占走一大片端口么

---------------------------------------------------

23545.1000 dev 频道，出现
wsl: Hyper-V 防火墙不受支持
wsl: 不支持镜像网络模式，正在回退到 NAT 网络
wsl: DNS 隧道不受支持

---------------------------------------------------

不错 刚好因为网络的问题弃用 wsl

---------------------------------------------------

@FYFX #109 我是想挂跟 C 盘同一块硬盘上的一个分区，这个 issue 好像没什么动静了
https://github.com/microsoft/WSL/issues/8773

---------------------------------------------------

访问 c 盘 d 盘奇慢的问题解决了么~

---------------------------------------------------

试了一下新特性，使用体验非常丝滑，之前的痛点几乎都解决了。

目前唯一的痛点是 WSL2 不能直接使用 Windows 主机上的 USB 设备（目前的解决方案是使用 usbipd ），如果以后能解决这个问题的话就真成最好的 Linux 发行版了。

---------------------------------------------------

@daya 可以。共享 windows 显卡驱动，在 wsl 里可以直接 nvidia-smi 查看显卡。可以直接装 nvidia-docker ，跟裸装 linux 性能大概有 5-10%的损失。

---------------------------------------------------

好家伙，相交 beta 更新更快的 dev 渠道居然还是 22H2 但是版本已经到 23545 了，一样用不了

---------------------------------------------------

这下 Windows 是最强 Linux distro 了

---------------------------------------------------

@leeyuzhe #105 你是用的 fake-ip 吗？ fake-ip 是劫持 DNS 解析，把所有域名都指向 fake-ip-range 网段内的 IP ，不可能是同一个 IP ，只是同一网段。
我试了下，只有 https 不行，http 请求是可以的，无论需不需要翻墙。

