### 我用以下方法证明了 如果用 homebrew 装软件，就卸载不干净了？

用 brew 安装 qq 音乐(brew install qqmusic)，登陆账号

删除 qq 音乐

重新安装 qq 音乐

你会发现你的 qq 音乐依然是登陆后的状态

---------------------------------------------------

这很正常啊，homebrew 管不了应用程序往哪儿写文件

---------------------------------------------------

brew uninstall --zap
另外根据 homebrew 的 leader
> I strongly disagree. Most package managers do not do this.

---------------------------------------------------

brew uninstall vim 也不会删除你的配置文件吧。

---------------------------------------------------

电子洁癖该治治

---------------------------------------------------

用户数据文件一般不是放在软件安装目录。你应该搜索 mac 文件目录结果，mac 下如何彻底删除 *** 软件

---------------------------------------------------

你在 QQ 音乐下官网 app 也这样
你这证明方法一点都不严谨

---------------------------------------------------

这都接受不了，直接放虚拟机得了。

---------------------------------------------------

你去网易音乐，手动下载 dmg ，你手动安装，你再卸载，你看你是不是证明了网易音乐是个流氓软件。

---------------------------------------------------

@crysislinux brew 的脚本是网友维护的，如果发现不干净可以提交 PR 完善一下

---------------------------------------------------

从来不用 homebrew ，几乎不安装 pkg 的安装包，卸载用卸载软件，然后自己再把系统文件夹查一遍有没有残留

---------------------------------------------------

@weeei 这里是应用程序打开后再写入的文件，早都超了 brew 的范围了，除非让应用在一个虚拟文件系统跑，不然没办法。

---------------------------------------------------

登录信息一般是存储在 macOS Keychain 里的吧（我没就 QQ Music 这一具体应用进行验证，但的确有不少软件是这么做的）

---------------------------------------------------

@musi 试过了

---------------------------------------------------

我都用 app cleaner 卸载哈

---------------------------------------------------

这说明解耦做得好，程序文件和用户数据是两码事

---------------------------------------------------

难道拆马桶要把已经在化粪池里的屎还原？

---------------------------------------------------

这又不是手机端，你怎么管 app 往哪写？

---------------------------------------------------

非必要，不安装！
非必要，不安装！

---------------------------------------------------

homebrew 安装的不是沙盒，肯定卸载不干净。可以提个 pr ，homebrew 以沙盒安装

---------------------------------------------------

不干净就不干净嘛。。又不是不能用。

---------------------------------------------------

习惯的方式 是什么方法？求告诉一下
有几个其他软件，迫切需要删除本地信息

---------------------------------------------------

我倒是希望用戶信息和軟件安裝在同一個文件夾，這樣就可以一鍵刪除，徹底消失

---------------------------------------------------

不要总是把 uninstall.exe 当作 timetravel.exe……

---------------------------------------------------

别浪费时间分析了，直达患处吧 https://freemacsoft.net/appcleaner/

---------------------------------------------------

在意这个的话建议只从 App Store 下载软件

---------------------------------------------------

"用习惯的方式直接删除" 是什么？
我尝试了一下，直接删除 .app 然后重新复制，并不会清除登录信息，这显而易见。

---------------------------------------------------

包管理器不都是这样吗，他只负责程序文件而不负责配置文件
你在 linux 下无论哪个发行版包管理器都只是卸载了程序文件，用户目录下的.config 是不会删除的，重装软件，还是已登录情况

---------------------------------------------------

@MeMoDiv 唉桌面系统，还是 iPhone 删 app 删的干净

---------------------------------------------------

@hellomynameis 
iPhone 也不一定能删干净，还有 keychain 这个玩意。百度系 app 删了重装还能提示你是不是要登录上一次的账号

---------------------------------------------------

@mokiki 赞同

---------------------------------------------------

举个例子, 你用 homebrew 安装了 chrome, 然后用 chrome 下载了一堆文件, 先不说卸载 chrome 的同时把下载的文件删除合不合理, homebrew 怎么知道 chrome 下载的文件扔哪呢?

---------------------------------------------------

@sanshao124 求详细说说，具体“自己再把系统文件夹查一遍”有没有详细步骤。

---------------------------------------------------

https://github.com/Homebrew/homebrew-cask/blob/46aea6163788530d6820a755ce2dd4b5768bf416/Casks/q/qqmusic.rb#L21C6-L30

加上“--zap”

---------------------------------------------------

用 nix

---------------------------------------------------

@sanshao124 电子洁癖晚期了

---------------------------------------------------

正常的

---------------------------------------------------

首先绝大多数 macOS app 并不是真正的“绿色软件”，仅仅是免安装软件。按照绿色软件的定义，应该是不会主动往程序目录外写文件的，但绝大多数 macOS app 仅仅是能解压即用，用户数据等还是会写到系统公共的应用数据目录。
另外仅靠包管理也不能可靠实现卸载软件时把软件数据都删除，最多是提前写好软件可能会写数据的目录，卸载时顺便删除，没写的话就删不掉。
要可靠实现软件卸载时删除数据，只能依赖沙盒，然而目前三大桌面操作系统：Windows 只有 UWP 应用支持沙盒，传统 Win32 应用还不支持。macOS 只对商店应用启用较严格的沙盒，非商店应用是可以免授权读写用户目录下许多地方的。Linux 下似乎只有 snap 支持沙盒？

---------------------------------------------------

說得很對，可是我安裝 brew 是爲了卸載的時候卸載得比較乾淨麼？

---------------------------------------------------

@lovestudykid #4 你既然这么说，那以后也别说 Windows 和安卓软件流氓，到处拉屎了

---------------------------------------------------

卸载软件一般我会先退出登录

---------------------------------------------------

@eairjhioaegnh 哈哈，是的，我家里地上有根头发都要捡起来

---------------------------------------------------

@LK99 
用 appcleaner 类软件卸载软件后
删除系统残余
~/Library/Application Support
~/Library/Containers
有时候这两个里面还是会有卸载软件的东西

---------------------------------------------------

主要还是对 Homebrew 的定位不了解。这只是个包管理器罢了，就算换 apt yum 这些也卸载不干净啊。和 Windows 端的 scoop 不是一路人。况且这个包还是个 cask ，这下连包管理器都算不上了，只是个软件安装器了，如果 cask 的规则里不包含 zap ，那生成的配置、缓存之类的文件是不会被清理掉的。

可以先用 AppCleaner 或 CleanMyMac 之类的软件清理干净，然后再在 hb 里卸载对应的 cask

---------------------------------------------------

@Leonard App Store 安装的也要写其他文件夹的

---------------------------------------------------

这明明你装的软件有问题。。。而且这个脚本大概率是第三方维护的。。。

最后这说不定是那个软件的 feature 呢  \狗头

---------------------------------------------------

建议看看 ~/Library/Containers 这个目录，高血压起来了不要怪我 [手动狗头]

---------------------------------------------------

理解 OP 的意思。
之前很多人吹用 homebrew 装就是为了能 100%把安装的东西的所有痕迹删除干净，只是对这些人的反驳而已😂

---------------------------------------------------

需要加上 --zap 选项。
就如同 apt remove 和 apt purge ，如果你使用 apt remove 也会发现“卸载不干净”。

---------------------------------------------------

QQ 音乐竟然支持 HomeBrew 安装，高级…

---------------------------------------------------

那我再说个让你高血压的, 你装个类似 ffmpeg , 卸载后发现它装上的一堆依赖还在.

brew deps --tree --installed

我隔半年就会运行 brew autoremove

---------------------------------------------------

@eairjhioaegnh 哈哈，是的，我家里地上有根头发都要捡起来

---------------------------------------------------

@LK99 
用 appcleaner 类软件卸载软件后
删除系统残余
~/Library/Application Support
~/Library/Containers
有时候这两个里面还是会有卸载软件的东西

---------------------------------------------------

主要还是对 Homebrew 的定位不了解。这只是个包管理器罢了，就算换 apt yum 这些也卸载不干净啊。和 Windows 端的 scoop 不是一路人。况且这个包还是个 cask ，这下连包管理器都算不上了，只是个软件安装器了，如果 cask 的规则里不包含 zap ，那生成的配置、缓存之类的文件是不会被清理掉的。

可以先用 AppCleaner 或 CleanMyMac 之类的软件清理干净，然后再在 hb 里卸载对应的 cask

---------------------------------------------------

@Leonard App Store 安装的也要写其他文件夹的

---------------------------------------------------

这明明你装的软件有问题。。。而且这个脚本大概率是第三方维护的。。。

最后这说不定是那个软件的 feature 呢  \狗头

---------------------------------------------------

建议看看 ~/Library/Containers 这个目录，高血压起来了不要怪我 [手动狗头]

---------------------------------------------------

理解 OP 的意思。
之前很多人吹用 homebrew 装就是为了能 100%把安装的东西的所有痕迹删除干净，只是对这些人的反驳而已😂

---------------------------------------------------

需要加上 --zap 选项。
就如同 apt remove 和 apt purge ，如果你使用 apt remove 也会发现“卸载不干净”。

---------------------------------------------------

QQ 音乐竟然支持 HomeBrew 安装，高级…

---------------------------------------------------

那我再说个让你高血压的, 你装个类似 ffmpeg , 卸载后发现它装上的一堆依赖还在.

brew deps --tree --installed

我隔半年就会运行 brew autoremove

---------------------------------------------------

@eairjhioaegnh 哈哈，是的，我家里地上有根头发都要捡起来

---------------------------------------------------

@LK99 
用 appcleaner 类软件卸载软件后
删除系统残余
~/Library/Application Support
~/Library/Containers
有时候这两个里面还是会有卸载软件的东西

---------------------------------------------------

主要还是对 Homebrew 的定位不了解。这只是个包管理器罢了，就算换 apt yum 这些也卸载不干净啊。和 Windows 端的 scoop 不是一路人。况且这个包还是个 cask ，这下连包管理器都算不上了，只是个软件安装器了，如果 cask 的规则里不包含 zap ，那生成的配置、缓存之类的文件是不会被清理掉的。

可以先用 AppCleaner 或 CleanMyMac 之类的软件清理干净，然后再在 hb 里卸载对应的 cask

---------------------------------------------------

@Leonard App Store 安装的也要写其他文件夹的

---------------------------------------------------

这明明你装的软件有问题。。。而且这个脚本大概率是第三方维护的。。。

最后这说不定是那个软件的 feature 呢  \狗头

---------------------------------------------------

建议看看 ~/Library/Containers 这个目录，高血压起来了不要怪我 [手动狗头]

---------------------------------------------------

理解 OP 的意思。
之前很多人吹用 homebrew 装就是为了能 100%把安装的东西的所有痕迹删除干净，只是对这些人的反驳而已😂

---------------------------------------------------

需要加上 --zap 选项。
就如同 apt remove 和 apt purge ，如果你使用 apt remove 也会发现“卸载不干净”。

---------------------------------------------------

QQ 音乐竟然支持 HomeBrew 安装，高级…

---------------------------------------------------

那我再说个让你高血压的, 你装个类似 ffmpeg , 卸载后发现它装上的一堆依赖还在.

brew deps --tree --installed

我隔半年就会运行 brew autoremove

---------------------------------------------------

@eairjhioaegnh 哈哈，是的，我家里地上有根头发都要捡起来

---------------------------------------------------

@LK99 
用 appcleaner 类软件卸载软件后
删除系统残余
~/Library/Application Support
~/Library/Containers
有时候这两个里面还是会有卸载软件的东西

---------------------------------------------------

主要还是对 Homebrew 的定位不了解。这只是个包管理器罢了，就算换 apt yum 这些也卸载不干净啊。和 Windows 端的 scoop 不是一路人。况且这个包还是个 cask ，这下连包管理器都算不上了，只是个软件安装器了，如果 cask 的规则里不包含 zap ，那生成的配置、缓存之类的文件是不会被清理掉的。

可以先用 AppCleaner 或 CleanMyMac 之类的软件清理干净，然后再在 hb 里卸载对应的 cask

---------------------------------------------------

@Leonard App Store 安装的也要写其他文件夹的

---------------------------------------------------

这明明你装的软件有问题。。。而且这个脚本大概率是第三方维护的。。。

最后这说不定是那个软件的 feature 呢  \狗头

---------------------------------------------------

建议看看 ~/Library/Containers 这个目录，高血压起来了不要怪我 [手动狗头]

---------------------------------------------------

理解 OP 的意思。
之前很多人吹用 homebrew 装就是为了能 100%把安装的东西的所有痕迹删除干净，只是对这些人的反驳而已😂

---------------------------------------------------

需要加上 --zap 选项。
就如同 apt remove 和 apt purge ，如果你使用 apt remove 也会发现“卸载不干净”。

---------------------------------------------------

QQ 音乐竟然支持 HomeBrew 安装，高级…

---------------------------------------------------

那我再说个让你高血压的, 你装个类似 ffmpeg , 卸载后发现它装上的一堆依赖还在.

brew deps --tree --installed

我隔半年就会运行 brew autoremove

---------------------------------------------------

@eairjhioaegnh 哈哈，是的，我家里地上有根头发都要捡起来

---------------------------------------------------

@LK99 
用 appcleaner 类软件卸载软件后
删除系统残余
~/Library/Application Support
~/Library/Containers
有时候这两个里面还是会有卸载软件的东西

---------------------------------------------------

主要还是对 Homebrew 的定位不了解。这只是个包管理器罢了，就算换 apt yum 这些也卸载不干净啊。和 Windows 端的 scoop 不是一路人。况且这个包还是个 cask ，这下连包管理器都算不上了，只是个软件安装器了，如果 cask 的规则里不包含 zap ，那生成的配置、缓存之类的文件是不会被清理掉的。

可以先用 AppCleaner 或 CleanMyMac 之类的软件清理干净，然后再在 hb 里卸载对应的 cask

---------------------------------------------------

@Leonard App Store 安装的也要写其他文件夹的

---------------------------------------------------

这明明你装的软件有问题。。。而且这个脚本大概率是第三方维护的。。。

最后这说不定是那个软件的 feature 呢  \狗头

---------------------------------------------------

建议看看 ~/Library/Containers 这个目录，高血压起来了不要怪我 [手动狗头]

---------------------------------------------------

理解 OP 的意思。
之前很多人吹用 homebrew 装就是为了能 100%把安装的东西的所有痕迹删除干净，只是对这些人的反驳而已😂

---------------------------------------------------

需要加上 --zap 选项。
就如同 apt remove 和 apt purge ，如果你使用 apt remove 也会发现“卸载不干净”。

---------------------------------------------------

QQ 音乐竟然支持 HomeBrew 安装，高级…

---------------------------------------------------

那我再说个让你高血压的, 你装个类似 ffmpeg , 卸载后发现它装上的一堆依赖还在.

brew deps --tree --installed

我隔半年就会运行 brew autoremove

---------------------------------------------------

@eairjhioaegnh 哈哈，是的，我家里地上有根头发都要捡起来

---------------------------------------------------

@LK99 
用 appcleaner 类软件卸载软件后
删除系统残余
~/Library/Application Support
~/Library/Containers
有时候这两个里面还是会有卸载软件的东西

---------------------------------------------------

主要还是对 Homebrew 的定位不了解。这只是个包管理器罢了，就算换 apt yum 这些也卸载不干净啊。和 Windows 端的 scoop 不是一路人。况且这个包还是个 cask ，这下连包管理器都算不上了，只是个软件安装器了，如果 cask 的规则里不包含 zap ，那生成的配置、缓存之类的文件是不会被清理掉的。

可以先用 AppCleaner 或 CleanMyMac 之类的软件清理干净，然后再在 hb 里卸载对应的 cask

---------------------------------------------------

@Leonard App Store 安装的也要写其他文件夹的

---------------------------------------------------

这明明你装的软件有问题。。。而且这个脚本大概率是第三方维护的。。。

最后这说不定是那个软件的 feature 呢  \狗头

---------------------------------------------------

建议看看 ~/Library/Containers 这个目录，高血压起来了不要怪我 [手动狗头]

---------------------------------------------------

理解 OP 的意思。
之前很多人吹用 homebrew 装就是为了能 100%把安装的东西的所有痕迹删除干净，只是对这些人的反驳而已😂

---------------------------------------------------

需要加上 --zap 选项。
就如同 apt remove 和 apt purge ，如果你使用 apt remove 也会发现“卸载不干净”。

---------------------------------------------------

QQ 音乐竟然支持 HomeBrew 安装，高级…

---------------------------------------------------

那我再说个让你高血压的, 你装个类似 ffmpeg , 卸载后发现它装上的一堆依赖还在.

brew deps --tree --installed

我隔半年就会运行 brew autoremove

---------------------------------------------------

@eairjhioaegnh 哈哈，是的，我家里地上有根头发都要捡起来

---------------------------------------------------

@LK99 
用 appcleaner 类软件卸载软件后
删除系统残余
~/Library/Application Support
~/Library/Containers
有时候这两个里面还是会有卸载软件的东西

---------------------------------------------------

主要还是对 Homebrew 的定位不了解。这只是个包管理器罢了，就算换 apt yum 这些也卸载不干净啊。和 Windows 端的 scoop 不是一路人。况且这个包还是个 cask ，这下连包管理器都算不上了，只是个软件安装器了，如果 cask 的规则里不包含 zap ，那生成的配置、缓存之类的文件是不会被清理掉的。

可以先用 AppCleaner 或 CleanMyMac 之类的软件清理干净，然后再在 hb 里卸载对应的 cask

---------------------------------------------------

@Leonard App Store 安装的也要写其他文件夹的

---------------------------------------------------

这明明你装的软件有问题。。。而且这个脚本大概率是第三方维护的。。。

最后这说不定是那个软件的 feature 呢  \狗头

---------------------------------------------------

建议看看 ~/Library/Containers 这个目录，高血压起来了不要怪我 [手动狗头]

---------------------------------------------------

理解 OP 的意思。
之前很多人吹用 homebrew 装就是为了能 100%把安装的东西的所有痕迹删除干净，只是对这些人的反驳而已😂

---------------------------------------------------

需要加上 --zap 选项。
就如同 apt remove 和 apt purge ，如果你使用 apt remove 也会发现“卸载不干净”。

---------------------------------------------------

QQ 音乐竟然支持 HomeBrew 安装，高级…

---------------------------------------------------

那我再说个让你高血压的, 你装个类似 ffmpeg , 卸载后发现它装上的一堆依赖还在.

brew deps --tree --installed

我隔半年就会运行 brew autoremove

---------------------------------------------------

@eairjhioaegnh 哈哈，是的，我家里地上有根头发都要捡起来

---------------------------------------------------

@LK99 
用 appcleaner 类软件卸载软件后
删除系统残余
~/Library/Application Support
~/Library/Containers
有时候这两个里面还是会有卸载软件的东西

---------------------------------------------------

主要还是对 Homebrew 的定位不了解。这只是个包管理器罢了，就算换 apt yum 这些也卸载不干净啊。和 Windows 端的 scoop 不是一路人。况且这个包还是个 cask ，这下连包管理器都算不上了，只是个软件安装器了，如果 cask 的规则里不包含 zap ，那生成的配置、缓存之类的文件是不会被清理掉的。

可以先用 AppCleaner 或 CleanMyMac 之类的软件清理干净，然后再在 hb 里卸载对应的 cask

---------------------------------------------------

@Leonard App Store 安装的也要写其他文件夹的

---------------------------------------------------

这明明你装的软件有问题。。。而且这个脚本大概率是第三方维护的。。。

最后这说不定是那个软件的 feature 呢  \狗头

---------------------------------------------------

建议看看 ~/Library/Containers 这个目录，高血压起来了不要怪我 [手动狗头]

---------------------------------------------------

理解 OP 的意思。
之前很多人吹用 homebrew 装就是为了能 100%把安装的东西的所有痕迹删除干净，只是对这些人的反驳而已😂

---------------------------------------------------

需要加上 --zap 选项。
就如同 apt remove 和 apt purge ，如果你使用 apt remove 也会发现“卸载不干净”。

---------------------------------------------------

QQ 音乐竟然支持 HomeBrew 安装，高级…

---------------------------------------------------

那我再说个让你高血压的, 你装个类似 ffmpeg , 卸载后发现它装上的一堆依赖还在.

brew deps --tree --installed

我隔半年就会运行 brew autoremove

