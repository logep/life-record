### 已经确认淘宝正在刻意访问用户全部图库

Android 14 为 target SDK 33 以上的 App 提供了“只能选择部分照片”权限，但是最新版本的淘宝通过一些设计可以绕过了它。<br><br>正常的 App 在用户选择照片的时候会请求照片权限，这个时候 Android 14 会允许用户只选择部分照片。<br><br>但是淘宝 App 使用了“照片选择器”（这个本来是谷歌设计，为了让 App 无需请求权限就可以让用户提供照片的最推荐的方法），这样用户只能在淘宝安装后第一次选择照片的时候才可以选择照片，之后只要用户没有同意访问全部照片，淘宝 App 都会让用户去设置里打开全部照片，而不是请求照片权限。<br><br>换句话说，新的“仅选择部分照片”权限，只要 app 想，是基本无效的。这个其实主要是谷歌设计的时候没有像 iOS 那样提供了一个界面让用户随时更改软件可以访问的照片，而是通过“App 请求照片权限”这个时机来实现的，然后就让无良软件给绕过了。

---------------------------------------------------

嗯，可是我想白嫖他的芭芭农场啊。。。我图库。。。看就看吧。 我都穿衣服的。

---------------------------------------------------

安卓只能把它关在 shelter 软件里？冰箱冻了都不行吧，总有从小黑屋里放出来的时候

---------------------------------------------------

小紅书 ios 也是类似做法

---------------------------------------------------

不懂 andord ，但是照片选择器的选择界面应该是系统提供的，APP 只能获取最终的照片数据才对吧？

---------------------------------------------------

想都不用想，当时就知道肯定是这个结果，文件选择器都做出来多久了，App 还是在要储存权限

---------------------------------------------------

“之后只要用户没有同意访问全部照片，淘宝 App 都会让用户去设置里打开全部照片，而不是请求照片权限。”
那之后淘宝是怎么绕过权限，访问图片的呢？

---------------------------------------------------

@mokiki 
@Rrobinvip 

安卓的实现方式是只要照片权限在“询问”，那么当 App 请求照片权限的时候就会有一个按钮给用户选择哪些照片可以访问

淘宝利用了一些机制绕过了“请求照片权限”

我刚刚才发现淘宝在国内渠道 API 版本还是旧的，就为了 1%不到的 Play 用户专门去写了这个限制机制，真的，不愧是阿里

---------------------------------------------------

谷歌其实在权限页面提供一个“仅允许部分照片”并且允许用户在那里就选择照片就可以防止 app 这样操作，但是谷歌就是不干

---------------------------------------------------

Android 提供系统级的文件选择界面，但每个 App 都自己写一遍（顺便读取全部文件）

---------------------------------------------------

很多人不太清楚为什么淘宝一定要全部图库，这么说吧，有全部图库，基本上就可以跨 app ，来确定唯一用户来进行用户跟踪。

所以即使麻烦，我也是在跳到系统权限那里，修改一下选中的图片来给新图片的权限，而不是满足淘宝无耻的要求。

---------------------------------------------------

Android 的权限问题年年修，年年烂。

---------------------------------------------------

@momocraft iOS 不一样，可以在设置中给 App 选择可以访问的照片，可以按需添加。

---------------------------------------------------

@aeli 很多人不太清楚为什么淘宝一定要全部图库，这么说吧，有全部图库，基本上就可以跨 app ，来确定唯一用户来进行用户跟踪。

所以即使麻烦，我也是在跳到系统权限那里，修改一下选中的图片来给新图片的权限，而不是满足淘宝无耻的要求。
-----------------
用得着那么麻烦吗？

淘宝本来就有市场上 99.99%用户的实名信息，因为大家都有用支付宝啊，也绑了银行卡。

---------------------------------------------------

有个应用叫存储空间隔离的可以处理这种问题
https://sr.rikka.app/zh-hans/

---------------------------------------------------

@chanChristin  iOS 不一样，可以在设置中给 App 选择可以访问的照片，可以按需添加。
-----------------
iOS 要跟踪你，更加方便，而且是是 iOS 系统自己提供的跟踪工具，即 keychain 。（你平时用一些 APP ，卸载后重装会发现直接就是已登录状态的对吧，就是通过这个东西实现的。）

不全盘刷机或越狱清理不了

---------------------------------------------------

@chanChristin 小红书不在 app 里申请单个文件的权限，故意要用户去系统设置改

---------------------------------------------------

@momocraft #16 对，就是故意恶心人。但是越是这样我越不给权限。

---------------------------------------------------

@paradoxs #15 我们在说图片选择器的问题，和追踪有啥关系呢？

---------------------------------------------------

@paradoxs 不一样的，keychain 是应用内使用的。Android 利用存储可以跨应用跟踪

---------------------------------------------------

看半天也没看明白在说什么。
照片选择器和授予对照片和视频的部分访问权限（ Android 14 特性）没有直接联系，照片和视频的部分访问权限是利用 Andorid 13 (API level 33) 增加的 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 权限实现的，需要用户在授予权限的时候选择部分照片（没有声明 READ_MEDIA_VISUAL_USER_SELECTED 则需要选择每次询问）。照片选择器固然是最佳实践，但目前不是 Google Play 强制标准。
在何时选择访问应该不构成影响，就算应用没有声明 READ_MEDIA_VISUAL_USER_SELECTED ，也可以在应用进入后台或被 kill 之后重新选择。
参见：<https://developer.android.com/about/versions/14/changes/partial-photo-video-access>

---------------------------------------------------

用系统的照片选择器那不是不用任何权限么,不懂你说的到底是什么情况.

反正 Android 本身的照片选择器在权限方面是领先这个新的类 iOS 模型的,作为开发者我是没打算去实现新的权限模型.
国内的乱象嘛,就用 sr 了

---------------------------------------------------

我猜测可能淘宝声明了 READ_MEDIA_VISUAL_USER_SELECTED 权限，并且在用户提供 READ_MEDIA_VISUAL_USER_SELECTED 权限后要求用户授予 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 。

---------------------------------------------------

对 Play 版本淘宝 10.27.40.29 (510) 代码逆向，Target API 为 33 ，未声明 READ_MEDIA_VISUAL_USER_SELECTED 权限。推断为淘宝实现逻辑未遵循最佳实践，可能淘宝将你已经授权 READ_MEDIA_IMAGES 或 READ_MEDIA_VIDEO 的状态持久化（对于未声明 READ_MEDIA_VISUAL_USER_SELECTED 的应用，应用会认为你已经授权了上述权限），认为用户手动在系统设置取消了相应的授权。

---------------------------------------------------

@paradoxs #15 小红书 uber 封号封设备就是用的 keychain ，只有刷机不还原备份才能绕过

---------------------------------------------------

这个问题一方面是 Android 13 的时候 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 是没有一次性权限的。另外一方面是应用没有做出最佳实践，checkSelfPermission() 本身也只会返回 PERMISSION_GRANTED 和 PERMISSION_DENIED ，在 PERMISSION_DENIED 的情况下应用应该直接请求权限。

---------------------------------------------------

谷歌实现了，但是捆绑到 gms 而不是安卓了☝️
只能说不奇怪吧

---------------------------------------------------

我也确定淘宝在 iOS 下面是故意要访问全部图片！！！ api 更新这么久了，闲鱼早都支持可以在 APP 内便捷增加图片，淘宝就是不增加。

反馈了也没音信的
https://i.imgur.com/jRIChEY.jpg

---------------------------------------------------

这要是苹果，估计得上 CATV ，还得请 V 站的专家从资本主义制度到资本家如何逐利分析个十天半月的

---------------------------------------------------

@dingwen07 如何避免呢

---------------------------------------------------

国产的常规操作，冷静。

---------------------------------------------------

不光想看，它们还会删。就特么离谱。

---------------------------------------------------

@kingfalse #31 删除早就不是问题了

---------------------------------------------------

@AkinoKaedeChan #23 
即使没有遵循最佳实践，应用也应该在运行时申请照片权限
淘宝是只会在安装后的第一次运行时申请之后就再也不会了
这个很明显就是为了阻止安卓 14 的功能设计的

---------------------------------------------------

@AkinoKaedeChan #20 
我观察到了淘宝 App 主动唤起照片选择器的行为（不是请求照片权限时的那个）

以及我确实没法做到在第一次在淘宝 App 内选择照片之后再次更改允许它访问的照片，常规的 kill 方法不适用

---------------------------------------------------

@paradoxs Mac 可以删

---------------------------------------------------

@dingwen07 #33 ，没法断定，这是似乎在 Android 14 发布前就有的逻辑。

#34 淘宝都没有请求访问照片权限，你当然无法选择允许访问照片，淘宝非要你在系统设置里面给他 Grant 。Android 当然也可以设计成对于未迁移总是允许的时候只允许访问部分照片和视频，代价就是用户必须进入系统设置才能更改允许部分的照片和视频。

不清楚淘宝是否会做出修改，如果真的要这么做而不顾用户体验，其实相机、麦克风什么的也能不让用户一次性授权。

---------------------------------------------------

只能说 Android 的设计似乎只有考虑遵循了最佳实践的状况。
如果未来有应用声明了 READ_MEDIA_VISUAL_USER_SELECTED ，而没有提供重新申请权限的按钮。那么用户还需要先去系统设置里禁用权限才能重新选择…
如果应用总是请求 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO ，那就会和没迁移的应用一样每次都弹出选择框，用户会感到疑惑。

---------------------------------------------------

我倒是不觉得这是什么故意针对 Android 14 新特性的设计，到现在还在使用 API 29 甚至 26 的中国互联网大厂们不需要关注还都没正式发布的 Android 14 更新了什么，至于 Google Play 那自然是随便做做，能上架能用就行。
用着老旧的 API 你根本就没法选择什么部分相册，也不能一次性授权，连音频什么的权限都得一起授权上。这种情况起码还得持续五年以上。

---------------------------------------------------

都用安卓了，权限什么的不是默认没有的吗？买之前就要做好功课，如果这方面特别看重就不要买了

---------------------------------------------------

用系统的照片选择器那不是不用任何权限么,不懂你说的到底是什么情况.

反正 Android 本身的照片选择器在权限方面是领先这个新的类 iOS 模型的,作为开发者我是没打算去实现新的权限模型.
国内的乱象嘛,就用 sr 了

---------------------------------------------------

我猜测可能淘宝声明了 READ_MEDIA_VISUAL_USER_SELECTED 权限，并且在用户提供 READ_MEDIA_VISUAL_USER_SELECTED 权限后要求用户授予 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 。

---------------------------------------------------

对 Play 版本淘宝 10.27.40.29 (510) 代码逆向，Target API 为 33 ，未声明 READ_MEDIA_VISUAL_USER_SELECTED 权限。推断为淘宝实现逻辑未遵循最佳实践，可能淘宝将你已经授权 READ_MEDIA_IMAGES 或 READ_MEDIA_VIDEO 的状态持久化（对于未声明 READ_MEDIA_VISUAL_USER_SELECTED 的应用，应用会认为你已经授权了上述权限），认为用户手动在系统设置取消了相应的授权。

---------------------------------------------------

@paradoxs #15 小红书 uber 封号封设备就是用的 keychain ，只有刷机不还原备份才能绕过

---------------------------------------------------

这个问题一方面是 Android 13 的时候 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 是没有一次性权限的。另外一方面是应用没有做出最佳实践，checkSelfPermission() 本身也只会返回 PERMISSION_GRANTED 和 PERMISSION_DENIED ，在 PERMISSION_DENIED 的情况下应用应该直接请求权限。

---------------------------------------------------

谷歌实现了，但是捆绑到 gms 而不是安卓了☝️
只能说不奇怪吧

---------------------------------------------------

我也确定淘宝在 iOS 下面是故意要访问全部图片！！！ api 更新这么久了，闲鱼早都支持可以在 APP 内便捷增加图片，淘宝就是不增加。

反馈了也没音信的
https://i.imgur.com/jRIChEY.jpg

---------------------------------------------------

这要是苹果，估计得上 CATV ，还得请 V 站的专家从资本主义制度到资本家如何逐利分析个十天半月的

---------------------------------------------------

@dingwen07 如何避免呢

---------------------------------------------------

国产的常规操作，冷静。

---------------------------------------------------

不光想看，它们还会删。就特么离谱。

---------------------------------------------------

@kingfalse #31 删除早就不是问题了

---------------------------------------------------

@AkinoKaedeChan #23 
即使没有遵循最佳实践，应用也应该在运行时申请照片权限
淘宝是只会在安装后的第一次运行时申请之后就再也不会了
这个很明显就是为了阻止安卓 14 的功能设计的

---------------------------------------------------

@AkinoKaedeChan #20 
我观察到了淘宝 App 主动唤起照片选择器的行为（不是请求照片权限时的那个）

以及我确实没法做到在第一次在淘宝 App 内选择照片之后再次更改允许它访问的照片，常规的 kill 方法不适用

---------------------------------------------------

@paradoxs Mac 可以删

---------------------------------------------------

@dingwen07 #33 ，没法断定，这是似乎在 Android 14 发布前就有的逻辑。

#34 淘宝都没有请求访问照片权限，你当然无法选择允许访问照片，淘宝非要你在系统设置里面给他 Grant 。Android 当然也可以设计成对于未迁移总是允许的时候只允许访问部分照片和视频，代价就是用户必须进入系统设置才能更改允许部分的照片和视频。

不清楚淘宝是否会做出修改，如果真的要这么做而不顾用户体验，其实相机、麦克风什么的也能不让用户一次性授权。

---------------------------------------------------

只能说 Android 的设计似乎只有考虑遵循了最佳实践的状况。
如果未来有应用声明了 READ_MEDIA_VISUAL_USER_SELECTED ，而没有提供重新申请权限的按钮。那么用户还需要先去系统设置里禁用权限才能重新选择…
如果应用总是请求 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO ，那就会和没迁移的应用一样每次都弹出选择框，用户会感到疑惑。

---------------------------------------------------

我倒是不觉得这是什么故意针对 Android 14 新特性的设计，到现在还在使用 API 29 甚至 26 的中国互联网大厂们不需要关注还都没正式发布的 Android 14 更新了什么，至于 Google Play 那自然是随便做做，能上架能用就行。
用着老旧的 API 你根本就没法选择什么部分相册，也不能一次性授权，连音频什么的权限都得一起授权上。这种情况起码还得持续五年以上。

---------------------------------------------------

都用安卓了，权限什么的不是默认没有的吗？买之前就要做好功课，如果这方面特别看重就不要买了

---------------------------------------------------

用系统的照片选择器那不是不用任何权限么,不懂你说的到底是什么情况.

反正 Android 本身的照片选择器在权限方面是领先这个新的类 iOS 模型的,作为开发者我是没打算去实现新的权限模型.
国内的乱象嘛,就用 sr 了

---------------------------------------------------

我猜测可能淘宝声明了 READ_MEDIA_VISUAL_USER_SELECTED 权限，并且在用户提供 READ_MEDIA_VISUAL_USER_SELECTED 权限后要求用户授予 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 。

---------------------------------------------------

对 Play 版本淘宝 10.27.40.29 (510) 代码逆向，Target API 为 33 ，未声明 READ_MEDIA_VISUAL_USER_SELECTED 权限。推断为淘宝实现逻辑未遵循最佳实践，可能淘宝将你已经授权 READ_MEDIA_IMAGES 或 READ_MEDIA_VIDEO 的状态持久化（对于未声明 READ_MEDIA_VISUAL_USER_SELECTED 的应用，应用会认为你已经授权了上述权限），认为用户手动在系统设置取消了相应的授权。

---------------------------------------------------

@paradoxs #15 小红书 uber 封号封设备就是用的 keychain ，只有刷机不还原备份才能绕过

---------------------------------------------------

这个问题一方面是 Android 13 的时候 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 是没有一次性权限的。另外一方面是应用没有做出最佳实践，checkSelfPermission() 本身也只会返回 PERMISSION_GRANTED 和 PERMISSION_DENIED ，在 PERMISSION_DENIED 的情况下应用应该直接请求权限。

---------------------------------------------------

谷歌实现了，但是捆绑到 gms 而不是安卓了☝️
只能说不奇怪吧

---------------------------------------------------

我也确定淘宝在 iOS 下面是故意要访问全部图片！！！ api 更新这么久了，闲鱼早都支持可以在 APP 内便捷增加图片，淘宝就是不增加。

反馈了也没音信的
https://i.imgur.com/jRIChEY.jpg

---------------------------------------------------

这要是苹果，估计得上 CATV ，还得请 V 站的专家从资本主义制度到资本家如何逐利分析个十天半月的

---------------------------------------------------

@dingwen07 如何避免呢

---------------------------------------------------

国产的常规操作，冷静。

---------------------------------------------------

不光想看，它们还会删。就特么离谱。

---------------------------------------------------

@kingfalse #31 删除早就不是问题了

---------------------------------------------------

@AkinoKaedeChan #23 
即使没有遵循最佳实践，应用也应该在运行时申请照片权限
淘宝是只会在安装后的第一次运行时申请之后就再也不会了
这个很明显就是为了阻止安卓 14 的功能设计的

---------------------------------------------------

@AkinoKaedeChan #20 
我观察到了淘宝 App 主动唤起照片选择器的行为（不是请求照片权限时的那个）

以及我确实没法做到在第一次在淘宝 App 内选择照片之后再次更改允许它访问的照片，常规的 kill 方法不适用

---------------------------------------------------

@paradoxs Mac 可以删

---------------------------------------------------

@dingwen07 #33 ，没法断定，这是似乎在 Android 14 发布前就有的逻辑。

#34 淘宝都没有请求访问照片权限，你当然无法选择允许访问照片，淘宝非要你在系统设置里面给他 Grant 。Android 当然也可以设计成对于未迁移总是允许的时候只允许访问部分照片和视频，代价就是用户必须进入系统设置才能更改允许部分的照片和视频。

不清楚淘宝是否会做出修改，如果真的要这么做而不顾用户体验，其实相机、麦克风什么的也能不让用户一次性授权。

---------------------------------------------------

只能说 Android 的设计似乎只有考虑遵循了最佳实践的状况。
如果未来有应用声明了 READ_MEDIA_VISUAL_USER_SELECTED ，而没有提供重新申请权限的按钮。那么用户还需要先去系统设置里禁用权限才能重新选择…
如果应用总是请求 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO ，那就会和没迁移的应用一样每次都弹出选择框，用户会感到疑惑。

---------------------------------------------------

我倒是不觉得这是什么故意针对 Android 14 新特性的设计，到现在还在使用 API 29 甚至 26 的中国互联网大厂们不需要关注还都没正式发布的 Android 14 更新了什么，至于 Google Play 那自然是随便做做，能上架能用就行。
用着老旧的 API 你根本就没法选择什么部分相册，也不能一次性授权，连音频什么的权限都得一起授权上。这种情况起码还得持续五年以上。

---------------------------------------------------

都用安卓了，权限什么的不是默认没有的吗？买之前就要做好功课，如果这方面特别看重就不要买了

---------------------------------------------------

用系统的照片选择器那不是不用任何权限么,不懂你说的到底是什么情况.

反正 Android 本身的照片选择器在权限方面是领先这个新的类 iOS 模型的,作为开发者我是没打算去实现新的权限模型.
国内的乱象嘛,就用 sr 了

---------------------------------------------------

我猜测可能淘宝声明了 READ_MEDIA_VISUAL_USER_SELECTED 权限，并且在用户提供 READ_MEDIA_VISUAL_USER_SELECTED 权限后要求用户授予 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 。

---------------------------------------------------

对 Play 版本淘宝 10.27.40.29 (510) 代码逆向，Target API 为 33 ，未声明 READ_MEDIA_VISUAL_USER_SELECTED 权限。推断为淘宝实现逻辑未遵循最佳实践，可能淘宝将你已经授权 READ_MEDIA_IMAGES 或 READ_MEDIA_VIDEO 的状态持久化（对于未声明 READ_MEDIA_VISUAL_USER_SELECTED 的应用，应用会认为你已经授权了上述权限），认为用户手动在系统设置取消了相应的授权。

---------------------------------------------------

@paradoxs #15 小红书 uber 封号封设备就是用的 keychain ，只有刷机不还原备份才能绕过

---------------------------------------------------

这个问题一方面是 Android 13 的时候 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 是没有一次性权限的。另外一方面是应用没有做出最佳实践，checkSelfPermission() 本身也只会返回 PERMISSION_GRANTED 和 PERMISSION_DENIED ，在 PERMISSION_DENIED 的情况下应用应该直接请求权限。

---------------------------------------------------

谷歌实现了，但是捆绑到 gms 而不是安卓了☝️
只能说不奇怪吧

---------------------------------------------------

我也确定淘宝在 iOS 下面是故意要访问全部图片！！！ api 更新这么久了，闲鱼早都支持可以在 APP 内便捷增加图片，淘宝就是不增加。

反馈了也没音信的
https://i.imgur.com/jRIChEY.jpg

---------------------------------------------------

这要是苹果，估计得上 CATV ，还得请 V 站的专家从资本主义制度到资本家如何逐利分析个十天半月的

---------------------------------------------------

@dingwen07 如何避免呢

---------------------------------------------------

国产的常规操作，冷静。

---------------------------------------------------

不光想看，它们还会删。就特么离谱。

---------------------------------------------------

@kingfalse #31 删除早就不是问题了

---------------------------------------------------

@AkinoKaedeChan #23 
即使没有遵循最佳实践，应用也应该在运行时申请照片权限
淘宝是只会在安装后的第一次运行时申请之后就再也不会了
这个很明显就是为了阻止安卓 14 的功能设计的

---------------------------------------------------

@AkinoKaedeChan #20 
我观察到了淘宝 App 主动唤起照片选择器的行为（不是请求照片权限时的那个）

以及我确实没法做到在第一次在淘宝 App 内选择照片之后再次更改允许它访问的照片，常规的 kill 方法不适用

---------------------------------------------------

@paradoxs Mac 可以删

---------------------------------------------------

@dingwen07 #33 ，没法断定，这是似乎在 Android 14 发布前就有的逻辑。

#34 淘宝都没有请求访问照片权限，你当然无法选择允许访问照片，淘宝非要你在系统设置里面给他 Grant 。Android 当然也可以设计成对于未迁移总是允许的时候只允许访问部分照片和视频，代价就是用户必须进入系统设置才能更改允许部分的照片和视频。

不清楚淘宝是否会做出修改，如果真的要这么做而不顾用户体验，其实相机、麦克风什么的也能不让用户一次性授权。

---------------------------------------------------

只能说 Android 的设计似乎只有考虑遵循了最佳实践的状况。
如果未来有应用声明了 READ_MEDIA_VISUAL_USER_SELECTED ，而没有提供重新申请权限的按钮。那么用户还需要先去系统设置里禁用权限才能重新选择…
如果应用总是请求 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO ，那就会和没迁移的应用一样每次都弹出选择框，用户会感到疑惑。

---------------------------------------------------

我倒是不觉得这是什么故意针对 Android 14 新特性的设计，到现在还在使用 API 29 甚至 26 的中国互联网大厂们不需要关注还都没正式发布的 Android 14 更新了什么，至于 Google Play 那自然是随便做做，能上架能用就行。
用着老旧的 API 你根本就没法选择什么部分相册，也不能一次性授权，连音频什么的权限都得一起授权上。这种情况起码还得持续五年以上。

---------------------------------------------------

都用安卓了，权限什么的不是默认没有的吗？买之前就要做好功课，如果这方面特别看重就不要买了

---------------------------------------------------

用系统的照片选择器那不是不用任何权限么,不懂你说的到底是什么情况.

反正 Android 本身的照片选择器在权限方面是领先这个新的类 iOS 模型的,作为开发者我是没打算去实现新的权限模型.
国内的乱象嘛,就用 sr 了

---------------------------------------------------

我猜测可能淘宝声明了 READ_MEDIA_VISUAL_USER_SELECTED 权限，并且在用户提供 READ_MEDIA_VISUAL_USER_SELECTED 权限后要求用户授予 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 。

---------------------------------------------------

对 Play 版本淘宝 10.27.40.29 (510) 代码逆向，Target API 为 33 ，未声明 READ_MEDIA_VISUAL_USER_SELECTED 权限。推断为淘宝实现逻辑未遵循最佳实践，可能淘宝将你已经授权 READ_MEDIA_IMAGES 或 READ_MEDIA_VIDEO 的状态持久化（对于未声明 READ_MEDIA_VISUAL_USER_SELECTED 的应用，应用会认为你已经授权了上述权限），认为用户手动在系统设置取消了相应的授权。

---------------------------------------------------

@paradoxs #15 小红书 uber 封号封设备就是用的 keychain ，只有刷机不还原备份才能绕过

---------------------------------------------------

这个问题一方面是 Android 13 的时候 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 是没有一次性权限的。另外一方面是应用没有做出最佳实践，checkSelfPermission() 本身也只会返回 PERMISSION_GRANTED 和 PERMISSION_DENIED ，在 PERMISSION_DENIED 的情况下应用应该直接请求权限。

---------------------------------------------------

谷歌实现了，但是捆绑到 gms 而不是安卓了☝️
只能说不奇怪吧

---------------------------------------------------

我也确定淘宝在 iOS 下面是故意要访问全部图片！！！ api 更新这么久了，闲鱼早都支持可以在 APP 内便捷增加图片，淘宝就是不增加。

反馈了也没音信的
https://i.imgur.com/jRIChEY.jpg

---------------------------------------------------

这要是苹果，估计得上 CATV ，还得请 V 站的专家从资本主义制度到资本家如何逐利分析个十天半月的

---------------------------------------------------

@dingwen07 如何避免呢

---------------------------------------------------

国产的常规操作，冷静。

---------------------------------------------------

不光想看，它们还会删。就特么离谱。

---------------------------------------------------

@kingfalse #31 删除早就不是问题了

---------------------------------------------------

@AkinoKaedeChan #23 
即使没有遵循最佳实践，应用也应该在运行时申请照片权限
淘宝是只会在安装后的第一次运行时申请之后就再也不会了
这个很明显就是为了阻止安卓 14 的功能设计的

---------------------------------------------------

@AkinoKaedeChan #20 
我观察到了淘宝 App 主动唤起照片选择器的行为（不是请求照片权限时的那个）

以及我确实没法做到在第一次在淘宝 App 内选择照片之后再次更改允许它访问的照片，常规的 kill 方法不适用

---------------------------------------------------

@paradoxs Mac 可以删

---------------------------------------------------

@dingwen07 #33 ，没法断定，这是似乎在 Android 14 发布前就有的逻辑。

#34 淘宝都没有请求访问照片权限，你当然无法选择允许访问照片，淘宝非要你在系统设置里面给他 Grant 。Android 当然也可以设计成对于未迁移总是允许的时候只允许访问部分照片和视频，代价就是用户必须进入系统设置才能更改允许部分的照片和视频。

不清楚淘宝是否会做出修改，如果真的要这么做而不顾用户体验，其实相机、麦克风什么的也能不让用户一次性授权。

---------------------------------------------------

只能说 Android 的设计似乎只有考虑遵循了最佳实践的状况。
如果未来有应用声明了 READ_MEDIA_VISUAL_USER_SELECTED ，而没有提供重新申请权限的按钮。那么用户还需要先去系统设置里禁用权限才能重新选择…
如果应用总是请求 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO ，那就会和没迁移的应用一样每次都弹出选择框，用户会感到疑惑。

---------------------------------------------------

我倒是不觉得这是什么故意针对 Android 14 新特性的设计，到现在还在使用 API 29 甚至 26 的中国互联网大厂们不需要关注还都没正式发布的 Android 14 更新了什么，至于 Google Play 那自然是随便做做，能上架能用就行。
用着老旧的 API 你根本就没法选择什么部分相册，也不能一次性授权，连音频什么的权限都得一起授权上。这种情况起码还得持续五年以上。

---------------------------------------------------

都用安卓了，权限什么的不是默认没有的吗？买之前就要做好功课，如果这方面特别看重就不要买了

---------------------------------------------------

用系统的照片选择器那不是不用任何权限么,不懂你说的到底是什么情况.

反正 Android 本身的照片选择器在权限方面是领先这个新的类 iOS 模型的,作为开发者我是没打算去实现新的权限模型.
国内的乱象嘛,就用 sr 了

---------------------------------------------------

我猜测可能淘宝声明了 READ_MEDIA_VISUAL_USER_SELECTED 权限，并且在用户提供 READ_MEDIA_VISUAL_USER_SELECTED 权限后要求用户授予 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 。

---------------------------------------------------

对 Play 版本淘宝 10.27.40.29 (510) 代码逆向，Target API 为 33 ，未声明 READ_MEDIA_VISUAL_USER_SELECTED 权限。推断为淘宝实现逻辑未遵循最佳实践，可能淘宝将你已经授权 READ_MEDIA_IMAGES 或 READ_MEDIA_VIDEO 的状态持久化（对于未声明 READ_MEDIA_VISUAL_USER_SELECTED 的应用，应用会认为你已经授权了上述权限），认为用户手动在系统设置取消了相应的授权。

---------------------------------------------------

@paradoxs #15 小红书 uber 封号封设备就是用的 keychain ，只有刷机不还原备份才能绕过

---------------------------------------------------

这个问题一方面是 Android 13 的时候 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 是没有一次性权限的。另外一方面是应用没有做出最佳实践，checkSelfPermission() 本身也只会返回 PERMISSION_GRANTED 和 PERMISSION_DENIED ，在 PERMISSION_DENIED 的情况下应用应该直接请求权限。

---------------------------------------------------

谷歌实现了，但是捆绑到 gms 而不是安卓了☝️
只能说不奇怪吧

---------------------------------------------------

我也确定淘宝在 iOS 下面是故意要访问全部图片！！！ api 更新这么久了，闲鱼早都支持可以在 APP 内便捷增加图片，淘宝就是不增加。

反馈了也没音信的
https://i.imgur.com/jRIChEY.jpg

---------------------------------------------------

这要是苹果，估计得上 CATV ，还得请 V 站的专家从资本主义制度到资本家如何逐利分析个十天半月的

---------------------------------------------------

@dingwen07 如何避免呢

---------------------------------------------------

国产的常规操作，冷静。

---------------------------------------------------

不光想看，它们还会删。就特么离谱。

---------------------------------------------------

@kingfalse #31 删除早就不是问题了

---------------------------------------------------

@AkinoKaedeChan #23 
即使没有遵循最佳实践，应用也应该在运行时申请照片权限
淘宝是只会在安装后的第一次运行时申请之后就再也不会了
这个很明显就是为了阻止安卓 14 的功能设计的

---------------------------------------------------

@AkinoKaedeChan #20 
我观察到了淘宝 App 主动唤起照片选择器的行为（不是请求照片权限时的那个）

以及我确实没法做到在第一次在淘宝 App 内选择照片之后再次更改允许它访问的照片，常规的 kill 方法不适用

---------------------------------------------------

@paradoxs Mac 可以删

---------------------------------------------------

@dingwen07 #33 ，没法断定，这是似乎在 Android 14 发布前就有的逻辑。

#34 淘宝都没有请求访问照片权限，你当然无法选择允许访问照片，淘宝非要你在系统设置里面给他 Grant 。Android 当然也可以设计成对于未迁移总是允许的时候只允许访问部分照片和视频，代价就是用户必须进入系统设置才能更改允许部分的照片和视频。

不清楚淘宝是否会做出修改，如果真的要这么做而不顾用户体验，其实相机、麦克风什么的也能不让用户一次性授权。

---------------------------------------------------

只能说 Android 的设计似乎只有考虑遵循了最佳实践的状况。
如果未来有应用声明了 READ_MEDIA_VISUAL_USER_SELECTED ，而没有提供重新申请权限的按钮。那么用户还需要先去系统设置里禁用权限才能重新选择…
如果应用总是请求 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO ，那就会和没迁移的应用一样每次都弹出选择框，用户会感到疑惑。

---------------------------------------------------

我倒是不觉得这是什么故意针对 Android 14 新特性的设计，到现在还在使用 API 29 甚至 26 的中国互联网大厂们不需要关注还都没正式发布的 Android 14 更新了什么，至于 Google Play 那自然是随便做做，能上架能用就行。
用着老旧的 API 你根本就没法选择什么部分相册，也不能一次性授权，连音频什么的权限都得一起授权上。这种情况起码还得持续五年以上。

---------------------------------------------------

都用安卓了，权限什么的不是默认没有的吗？买之前就要做好功课，如果这方面特别看重就不要买了

---------------------------------------------------

用系统的照片选择器那不是不用任何权限么,不懂你说的到底是什么情况.

反正 Android 本身的照片选择器在权限方面是领先这个新的类 iOS 模型的,作为开发者我是没打算去实现新的权限模型.
国内的乱象嘛,就用 sr 了

---------------------------------------------------

我猜测可能淘宝声明了 READ_MEDIA_VISUAL_USER_SELECTED 权限，并且在用户提供 READ_MEDIA_VISUAL_USER_SELECTED 权限后要求用户授予 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 。

---------------------------------------------------

对 Play 版本淘宝 10.27.40.29 (510) 代码逆向，Target API 为 33 ，未声明 READ_MEDIA_VISUAL_USER_SELECTED 权限。推断为淘宝实现逻辑未遵循最佳实践，可能淘宝将你已经授权 READ_MEDIA_IMAGES 或 READ_MEDIA_VIDEO 的状态持久化（对于未声明 READ_MEDIA_VISUAL_USER_SELECTED 的应用，应用会认为你已经授权了上述权限），认为用户手动在系统设置取消了相应的授权。

---------------------------------------------------

@paradoxs #15 小红书 uber 封号封设备就是用的 keychain ，只有刷机不还原备份才能绕过

---------------------------------------------------

这个问题一方面是 Android 13 的时候 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 是没有一次性权限的。另外一方面是应用没有做出最佳实践，checkSelfPermission() 本身也只会返回 PERMISSION_GRANTED 和 PERMISSION_DENIED ，在 PERMISSION_DENIED 的情况下应用应该直接请求权限。

---------------------------------------------------

谷歌实现了，但是捆绑到 gms 而不是安卓了☝️
只能说不奇怪吧

---------------------------------------------------

我也确定淘宝在 iOS 下面是故意要访问全部图片！！！ api 更新这么久了，闲鱼早都支持可以在 APP 内便捷增加图片，淘宝就是不增加。

反馈了也没音信的
https://i.imgur.com/jRIChEY.jpg

---------------------------------------------------

这要是苹果，估计得上 CATV ，还得请 V 站的专家从资本主义制度到资本家如何逐利分析个十天半月的

---------------------------------------------------

@dingwen07 如何避免呢

---------------------------------------------------

国产的常规操作，冷静。

---------------------------------------------------

不光想看，它们还会删。就特么离谱。

---------------------------------------------------

@kingfalse #31 删除早就不是问题了

---------------------------------------------------

@AkinoKaedeChan #23 
即使没有遵循最佳实践，应用也应该在运行时申请照片权限
淘宝是只会在安装后的第一次运行时申请之后就再也不会了
这个很明显就是为了阻止安卓 14 的功能设计的

---------------------------------------------------

@AkinoKaedeChan #20 
我观察到了淘宝 App 主动唤起照片选择器的行为（不是请求照片权限时的那个）

以及我确实没法做到在第一次在淘宝 App 内选择照片之后再次更改允许它访问的照片，常规的 kill 方法不适用

---------------------------------------------------

@paradoxs Mac 可以删

---------------------------------------------------

@dingwen07 #33 ，没法断定，这是似乎在 Android 14 发布前就有的逻辑。

#34 淘宝都没有请求访问照片权限，你当然无法选择允许访问照片，淘宝非要你在系统设置里面给他 Grant 。Android 当然也可以设计成对于未迁移总是允许的时候只允许访问部分照片和视频，代价就是用户必须进入系统设置才能更改允许部分的照片和视频。

不清楚淘宝是否会做出修改，如果真的要这么做而不顾用户体验，其实相机、麦克风什么的也能不让用户一次性授权。

---------------------------------------------------

只能说 Android 的设计似乎只有考虑遵循了最佳实践的状况。
如果未来有应用声明了 READ_MEDIA_VISUAL_USER_SELECTED ，而没有提供重新申请权限的按钮。那么用户还需要先去系统设置里禁用权限才能重新选择…
如果应用总是请求 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO ，那就会和没迁移的应用一样每次都弹出选择框，用户会感到疑惑。

---------------------------------------------------

我倒是不觉得这是什么故意针对 Android 14 新特性的设计，到现在还在使用 API 29 甚至 26 的中国互联网大厂们不需要关注还都没正式发布的 Android 14 更新了什么，至于 Google Play 那自然是随便做做，能上架能用就行。
用着老旧的 API 你根本就没法选择什么部分相册，也不能一次性授权，连音频什么的权限都得一起授权上。这种情况起码还得持续五年以上。

---------------------------------------------------

都用安卓了，权限什么的不是默认没有的吗？买之前就要做好功课，如果这方面特别看重就不要买了

---------------------------------------------------

用系统的照片选择器那不是不用任何权限么,不懂你说的到底是什么情况.

反正 Android 本身的照片选择器在权限方面是领先这个新的类 iOS 模型的,作为开发者我是没打算去实现新的权限模型.
国内的乱象嘛,就用 sr 了

---------------------------------------------------

我猜测可能淘宝声明了 READ_MEDIA_VISUAL_USER_SELECTED 权限，并且在用户提供 READ_MEDIA_VISUAL_USER_SELECTED 权限后要求用户授予 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 。

---------------------------------------------------

对 Play 版本淘宝 10.27.40.29 (510) 代码逆向，Target API 为 33 ，未声明 READ_MEDIA_VISUAL_USER_SELECTED 权限。推断为淘宝实现逻辑未遵循最佳实践，可能淘宝将你已经授权 READ_MEDIA_IMAGES 或 READ_MEDIA_VIDEO 的状态持久化（对于未声明 READ_MEDIA_VISUAL_USER_SELECTED 的应用，应用会认为你已经授权了上述权限），认为用户手动在系统设置取消了相应的授权。

---------------------------------------------------

@paradoxs #15 小红书 uber 封号封设备就是用的 keychain ，只有刷机不还原备份才能绕过

---------------------------------------------------

这个问题一方面是 Android 13 的时候 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 是没有一次性权限的。另外一方面是应用没有做出最佳实践，checkSelfPermission() 本身也只会返回 PERMISSION_GRANTED 和 PERMISSION_DENIED ，在 PERMISSION_DENIED 的情况下应用应该直接请求权限。

---------------------------------------------------

谷歌实现了，但是捆绑到 gms 而不是安卓了☝️
只能说不奇怪吧

---------------------------------------------------

我也确定淘宝在 iOS 下面是故意要访问全部图片！！！ api 更新这么久了，闲鱼早都支持可以在 APP 内便捷增加图片，淘宝就是不增加。

反馈了也没音信的
https://i.imgur.com/jRIChEY.jpg

---------------------------------------------------

这要是苹果，估计得上 CATV ，还得请 V 站的专家从资本主义制度到资本家如何逐利分析个十天半月的

---------------------------------------------------

@dingwen07 如何避免呢

---------------------------------------------------

国产的常规操作，冷静。

---------------------------------------------------

不光想看，它们还会删。就特么离谱。

---------------------------------------------------

@kingfalse #31 删除早就不是问题了

---------------------------------------------------

@AkinoKaedeChan #23 
即使没有遵循最佳实践，应用也应该在运行时申请照片权限
淘宝是只会在安装后的第一次运行时申请之后就再也不会了
这个很明显就是为了阻止安卓 14 的功能设计的

---------------------------------------------------

@AkinoKaedeChan #20 
我观察到了淘宝 App 主动唤起照片选择器的行为（不是请求照片权限时的那个）

以及我确实没法做到在第一次在淘宝 App 内选择照片之后再次更改允许它访问的照片，常规的 kill 方法不适用

---------------------------------------------------

@paradoxs Mac 可以删

---------------------------------------------------

@dingwen07 #33 ，没法断定，这是似乎在 Android 14 发布前就有的逻辑。

#34 淘宝都没有请求访问照片权限，你当然无法选择允许访问照片，淘宝非要你在系统设置里面给他 Grant 。Android 当然也可以设计成对于未迁移总是允许的时候只允许访问部分照片和视频，代价就是用户必须进入系统设置才能更改允许部分的照片和视频。

不清楚淘宝是否会做出修改，如果真的要这么做而不顾用户体验，其实相机、麦克风什么的也能不让用户一次性授权。

---------------------------------------------------

只能说 Android 的设计似乎只有考虑遵循了最佳实践的状况。
如果未来有应用声明了 READ_MEDIA_VISUAL_USER_SELECTED ，而没有提供重新申请权限的按钮。那么用户还需要先去系统设置里禁用权限才能重新选择…
如果应用总是请求 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO ，那就会和没迁移的应用一样每次都弹出选择框，用户会感到疑惑。

---------------------------------------------------

我倒是不觉得这是什么故意针对 Android 14 新特性的设计，到现在还在使用 API 29 甚至 26 的中国互联网大厂们不需要关注还都没正式发布的 Android 14 更新了什么，至于 Google Play 那自然是随便做做，能上架能用就行。
用着老旧的 API 你根本就没法选择什么部分相册，也不能一次性授权，连音频什么的权限都得一起授权上。这种情况起码还得持续五年以上。

---------------------------------------------------

都用安卓了，权限什么的不是默认没有的吗？买之前就要做好功课，如果这方面特别看重就不要买了

---------------------------------------------------

用系统的照片选择器那不是不用任何权限么,不懂你说的到底是什么情况.

反正 Android 本身的照片选择器在权限方面是领先这个新的类 iOS 模型的,作为开发者我是没打算去实现新的权限模型.
国内的乱象嘛,就用 sr 了

---------------------------------------------------

我猜测可能淘宝声明了 READ_MEDIA_VISUAL_USER_SELECTED 权限，并且在用户提供 READ_MEDIA_VISUAL_USER_SELECTED 权限后要求用户授予 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 。

---------------------------------------------------

对 Play 版本淘宝 10.27.40.29 (510) 代码逆向，Target API 为 33 ，未声明 READ_MEDIA_VISUAL_USER_SELECTED 权限。推断为淘宝实现逻辑未遵循最佳实践，可能淘宝将你已经授权 READ_MEDIA_IMAGES 或 READ_MEDIA_VIDEO 的状态持久化（对于未声明 READ_MEDIA_VISUAL_USER_SELECTED 的应用，应用会认为你已经授权了上述权限），认为用户手动在系统设置取消了相应的授权。

---------------------------------------------------

@paradoxs #15 小红书 uber 封号封设备就是用的 keychain ，只有刷机不还原备份才能绕过

---------------------------------------------------

这个问题一方面是 Android 13 的时候 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO 是没有一次性权限的。另外一方面是应用没有做出最佳实践，checkSelfPermission() 本身也只会返回 PERMISSION_GRANTED 和 PERMISSION_DENIED ，在 PERMISSION_DENIED 的情况下应用应该直接请求权限。

---------------------------------------------------

谷歌实现了，但是捆绑到 gms 而不是安卓了☝️
只能说不奇怪吧

---------------------------------------------------

我也确定淘宝在 iOS 下面是故意要访问全部图片！！！ api 更新这么久了，闲鱼早都支持可以在 APP 内便捷增加图片，淘宝就是不增加。

反馈了也没音信的
https://i.imgur.com/jRIChEY.jpg

---------------------------------------------------

这要是苹果，估计得上 CATV ，还得请 V 站的专家从资本主义制度到资本家如何逐利分析个十天半月的

---------------------------------------------------

@dingwen07 如何避免呢

---------------------------------------------------

国产的常规操作，冷静。

---------------------------------------------------

不光想看，它们还会删。就特么离谱。

---------------------------------------------------

@kingfalse #31 删除早就不是问题了

---------------------------------------------------

@AkinoKaedeChan #23 
即使没有遵循最佳实践，应用也应该在运行时申请照片权限
淘宝是只会在安装后的第一次运行时申请之后就再也不会了
这个很明显就是为了阻止安卓 14 的功能设计的

---------------------------------------------------

@AkinoKaedeChan #20 
我观察到了淘宝 App 主动唤起照片选择器的行为（不是请求照片权限时的那个）

以及我确实没法做到在第一次在淘宝 App 内选择照片之后再次更改允许它访问的照片，常规的 kill 方法不适用

---------------------------------------------------

@paradoxs Mac 可以删

---------------------------------------------------

@dingwen07 #33 ，没法断定，这是似乎在 Android 14 发布前就有的逻辑。

#34 淘宝都没有请求访问照片权限，你当然无法选择允许访问照片，淘宝非要你在系统设置里面给他 Grant 。Android 当然也可以设计成对于未迁移总是允许的时候只允许访问部分照片和视频，代价就是用户必须进入系统设置才能更改允许部分的照片和视频。

不清楚淘宝是否会做出修改，如果真的要这么做而不顾用户体验，其实相机、麦克风什么的也能不让用户一次性授权。

---------------------------------------------------

只能说 Android 的设计似乎只有考虑遵循了最佳实践的状况。
如果未来有应用声明了 READ_MEDIA_VISUAL_USER_SELECTED ，而没有提供重新申请权限的按钮。那么用户还需要先去系统设置里禁用权限才能重新选择…
如果应用总是请求 READ_MEDIA_IMAGES 和 READ_MEDIA_VIDEO ，那就会和没迁移的应用一样每次都弹出选择框，用户会感到疑惑。

---------------------------------------------------

我倒是不觉得这是什么故意针对 Android 14 新特性的设计，到现在还在使用 API 29 甚至 26 的中国互联网大厂们不需要关注还都没正式发布的 Android 14 更新了什么，至于 Google Play 那自然是随便做做，能上架能用就行。
用着老旧的 API 你根本就没法选择什么部分相册，也不能一次性授权，连音频什么的权限都得一起授权上。这种情况起码还得持续五年以上。

---------------------------------------------------

都用安卓了，权限什么的不是默认没有的吗？买之前就要做好功课，如果这方面特别看重就不要买了

